{"version":3,"sources":["./src/views/product/product.view.scss","./src/views/cart/cart.view.scss","./src/components/register-user/register-user.component.html","./src/components/product-list/product-list.component.html","./src/views/product-list/products.view.ts","./src/views/profile-list/profile-list.view.ts","./src/views/product-form/product-form.component.scss","./src/views/statistics/statistics.view.html","./src/environments/environment.ts","./src/views/login/login.view.ts","./src/views/order-list/order-list.view.ts","./src/views/statistics/statistics.view.ts","./src/views/profile/profile.view.ts","./src/components/product-list/product-list.component.ts","./src/components/cart-item/cart-item.component.ts","./src/views/cart/cart.view.ts","./node_modules/@ionic/pwa-elements/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./src/services/order/cart-service.service.ts","./src/views/profile/profile.view.sass","./src/views/product/product.view.ts","./src/models/statistics/stats.ts","./src/components/cart-item/cart-item.component.scss","./src/components/navigation-bar/navigation-bar.component.ts","./src/components/order-item/order-item.component.ts","./src/views/product-list/products.view.scss","./src/views/product-list/products.view.html","./src/app/app.component.ts","./src/components/navigation-bar/navigation-bar.component.html","./src/services/products/product.service.ts","./src/models/cart/product-order.ts","./src/components/login-user/login-user.component.html","./src/app/app.component.html","./src/services/profiles/profiles.service.ts","./src/views/statistics/statistics.view.scss","./src/views/profile-list/profile-list.view.html","./src/views/profile/profile.view.html","./src/app/app.module.ts","./src/components/navigation-bar/navigation-bar.component.scss","./src/models/user/user.model.ts","./src/components/register-user/register-user.component.ts","./src/views/cart/cart.view.html","./src/components/order-item/order-item.component.scss","./src/environments/environment.prod.ts","./src/models/cart/cart.ts","./src/views/profile-list/profile-list.view.scss","./src/views/order-list/order-list.view.scss","./src/views/product/product.view.html","./node_modules/@ionic/core/dist/esm lazy ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$ namespace object","./src/pipes/enum-to-array.pipe.ts","./src/components/order-item/order-item.component.html","./src/components/login-user/login-user.component.sass","./src/views/login/login.view.html","./src/views/product-form/product-form.component.html","./src/models/product/product.ts","./src/components/cart-item/cart-item.component.html","./src/components/product-list/product-list.component.scss","./src/services/order/order.service.ts","./src/components/register-user/register-user.component.sass","./src/services/auth/auth-service.service.ts","./src/components/login-user/login-user.component.ts","./src/app/app-routing.module.ts","./src/views/product-form/product-form.component.ts","./src/views/order-list/order-list.view.html","./src/models/order/order.ts","./src/views/login/login.view.sass","./src/app/app.component.scss","./src/models/user/user-roles.enum.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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D;AAAe,6GAA8C,2HAA2H,E;;;;;;;;;;;;ACAxL;AAAe,6GAA8C,uHAAuH,E;;;;;;;;;;;;ACApL;AAAe,wZAAyV,mBAAmB,kBAAkB,0BAA0B,msBAAmsB,wEAAwE,qMAAqM,E;;;;;;;;;;;ACAv3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;ACnOoD;IAKvC,eAAe,SAAf,eAAe;IAC1B,SAAS,CAAC,IAAY;QACpB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC/B,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AALY,eAAe;IAH3B,0DAAI,CAAC;QACJ,IAAI,EAAE,aAAa;KACpB,CAAC;GACW,eAAe,CAK3B;AAL2B;;;;;;;;;;;;;ACL5B;AAAe,mKAAoG,gBAAgB,uEAAuE,iEAAiE,mHAAmH,4JAA4J,wBAAwB,KAAK,uBAAuB,gFAAgF,sBAAsB,iJAAiJ,6BAA6B,mnCAAmnC,E;;;;;;;;;;;;ACAr9D;AAAe,6GAA8C,+HAA+H,E;;;;;;;;;;;;ACA5L;AAAe,g1BAAixB,E;;;;;;;;;;;;ACAhyB;AAAe,ylCAA0hC,kCAAkC,MAAM,kTAAkT,kCAAkC,UAAU,+pCAA+pC,E;;;;;;;;;;;;ACA9kF;AAAA;AAAA;AAAA;AAAA;AAA6D;AAEtD,MAAM,OAAO;IAYlB;QACE,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC,SAAS,CAAC;QACpC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,IAAI,EAAE;QACJ,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,IAAI,EAAE,CAAC,KAAa;QAClB,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC;IACnB,CAAC;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,IAAI,IAAI,CAAC,KAAa;QACpB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,IAAI,WAAW,CAAC,KAAa;QAC3B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,IAAI,KAAK,CAAC,KAAa;QACrB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,IAAI,OAAO,CAAC,KAAa;QACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAED,IAAI,IAAI,CAAC,KAAmB;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,IAAI,KAAK,CAAC,KAAa;QACrB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,IAAI,KAAK,CAAC,KAAc;QACtB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,IAAI,OAAO,CAAC,KAAa;QACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,IAAI,QAAQ,CAAC,KAAmB;QAC9B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,YAAY;QACV,OAAO,sEAAY,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,cAAc,CAAC,OAAO;QACpB,OAAO,sEAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;CACF;AAED,IAAY,YAIX;AAJD,WAAY,YAAY;IACtB,iCAAiB;IACjB,uCAAuB;IACvB,iCAAiB;AACnB,CAAC,EAJW,YAAY,KAAZ,YAAY,QAIvB;AAED,IAAY,YASX;AATD,WAAY,YAAY;IACtB,+BAAe;IACf,oCAAoB;IACpB,uCAAuB;IACvB,uCAAuB;IACvB,mCAAmB;IACnB,iCAAiB;IACjB,6BAAa;IACb,+BAAe;AACjB,CAAC,EATW,YAAY,KAAZ,YAAY,QASvB;;;;;;;;;;;;;AC9HD;AAAe,qGAAsC,sBAAsB,IAAI,uBAAuB,8VAA8V,E;;;;;;;;;;;;ACApc;AAAe,6GAA8C,mIAAmI,E;;;;;;;;;;;;;;;;;;;;;;;;;ACArJ;AACQ;AACkC;AAC5B;AAGO;AAEL;AACZ;AAGiB;AAEQ;IAK3D,YAAY,SAAZ,YAAY;IAGvB,YAAmB,MAAuB,EAAS,SAA2B,EAAS,OAA2B,EAC/F,cAA8B,EAAS,WAA+B;QADtE,WAAM,GAAN,MAAM,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAkB;QAAS,YAAO,GAAP,OAAO,CAAoB;QAC/F,mBAAc,GAAd,cAAc,CAAgB;QAAS,gBAAW,GAAX,WAAW,CAAoB;QACvF,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAED,iBAAiB,CAAC,KAAY;QAC5B,MAAM,WAAW,GAAG,sEAAY,CAAC,KAAK,CAAC,CAAC;QACxC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YAC1C,OAAO,OAAO,CAAC,QAAQ,CAAC;QAC1B,CAAC,CAAC,CAAC;QACH,OAAO,WAAW,CAAC;IACrB,CAAC;IAED,aAAa;QACX,IAAI,SAAS,GAAY,EAAE,CAAC;QAC5B,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE;gBAC5E,SAAS,GAAG,EAAE,CAAC;gBACf,aAAa,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;oBACpC,MAAM,UAAU,GAAG,IAAI,yDAAK,EAAE,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;oBAC3D,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;wBACjD,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;4BAClE,UAAU,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;wBACjD,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;oBACH,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC7B,CAAC,CAAC,CAAC;gBACH,OAAO,CAAC,SAAS,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,0BAA0B;QACxB,IAAI,SAAS,GAAY,EAAE,CAAC;QAC5B,IAAI,eAAe,CAAC;QACpB,IAAI,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,EAAC;YACjC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;SAChI;aAAM;YACL,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;SAC/H;QAED,OAAO,IAAI,OAAO,CAAU,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC9C,eAAe,CAAC,YAAY,CAAC,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE;gBACvE,SAAS,GAAG,EAAE,CAAC;gBACf,aAAa,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;oBACpC,MAAM,UAAU,GAAG,IAAI,yDAAK,EAAE,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;oBAC3D,UAAU,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;wBACjD,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;4BAClE,UAAU,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;wBACjD,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;oBACH,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBAC7B,CAAC,CAAC,CAAC;gBACH,OAAO,CAAC,SAAS,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB;QACjB,MAAM,YAAY,GAAG,IAAI,8DAAK,EAAE,CAAC;QACjC,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,0BAA0B,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;gBACjD,YAAY,CAAC,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC;gBAC5C,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;oBACxB,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;wBACnC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBACrB,YAAY,CAAC,eAAe,IAAI,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC;wBAC5E,IAAI,YAAY,GAAG,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,KAAK,OAAO,CAAC,SAAS,CAAC,CAAC;wBAC7F,0CAA0C;wBAC1C,IAAI,YAAY,EAAC;4BACf,YAAY,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;4BAC3C,YAAY,CAAC,aAAa,IAAI,OAAO,CAAC,aAAa,CAAC;yBACrD;6BAAM;4BACL,YAAY,GAAG,IAAI,2EAAkB,EAAE,CAAC;4BACxC,YAAY,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC;4BAC3C,YAAY,CAAC,aAAa,IAAI,OAAO,CAAC,aAAa,CAAC;4BACpD,YAAY,CAAC,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;yBACjD;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;oBAC3C,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE;wBACxE,KAAK,CAAC,IAAI,GAAG,aAAa,CAAC,KAAK,CAAC;oBACnC,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,OAAO,CAAC,YAAY,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,eAAe,CAAC,OAAe;QAC7B,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,mEAAe,CAAC,SAAS,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;gBACtF,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uBAAuB,CAAC,OAAe;QACrC,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,mEAAe,CAAC,SAAS,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;gBACtF,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAGD,wBAAwB,CAAC,OAAe;QACtC,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,mEAAe,CAAC,SAAS,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;gBACtF,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,gBAAgB,CAAC,SAAiB;;YACtC,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACxC,OAAO,IAAI,OAAO,CAAM,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;gBAC1C,GAAG,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;oBACnC,OAAO,CAAC,GAAG,CAAC,CAAC;gBACf,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;CACF;;YAhJO,kEAAe;YACf,wEAAgB;YAChB,wEAAkB;YAKlB,wEAAc;YAId,6EAAkB;;AAOb,YAAY;IAHxB,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,YAAY,CA8HxB;AA9HwB;;;;;;;;;;;;;ACnBzB;AAAe,6GAA8C,mIAAmI,E;;;;;;;;;;;;;;;;;;;;;;ACA5I;AACD;AACZ;AAC4C;AACjC;AACU;IAK/C,kBAAkB,SAAlB,kBAAkB;IAM7B,YAAmB,MAAuB,EAAS,MAAc,EAAS,SAA2B;QAAlF,WAAM,GAAN,MAAM,CAAiB;QAAS,WAAM,GAAN,MAAM,CAAQ;QAAS,cAAS,GAAT,SAAS,CAAkB;QACnG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACrC,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC;gBACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;gBAC5D,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE;oBACtD,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;oBACtB,MAAM,QAAQ,GAAG,IAAI,4DAAI,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;oBACrD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,KAAK,sEAAS,CAAC,QAAQ,CAAC;gBACvD,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACvB;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gBAAgB;QACd,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;IAC5C,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,WAAW;IACX,CAAC;CACF;;YA1CO,kEAAe;YACf,sDAAM;YACN,wEAAgB;;AAOX,kBAAkB;IAH9B,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,kBAAkB,CAiC9B;AAjC8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVmB;AACgB;AACf;AACI;AAC1B;AACe;AACG;IAOlC,kBAAkB,SAAlB,kBAAkB;IAM7B,YAAoB,EAAe,EAAS,IAAqB,EAAU,MAAc,EAAU,KAAqB,EACrG,eAAgC;QAD/B,OAAE,GAAF,EAAE,CAAa;QAAS,SAAI,GAAJ,IAAI,CAAiB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAgB;QACrG,oBAAe,GAAf,eAAe,CAAiB;QAL3C,WAAM,GAAG,IAAI,4CAAO,EAAU,CAAC;QAChC,iBAAY,GAAG,EAAE,CAAC;QACzB,SAAI,GAAG,IAAI,CAAC;IAG2C,CAAC;IAElD,YAAY;;YAChB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,OAAO,EAAE,6DAA6D;gBACtE,QAAQ,EAAE,IAAI;gBACd,KAAK,EAAE,QAAQ;aAChB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAED,QAAQ;QACN,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACpC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,KAAK,CAAC,CAAC;YACpD,QAAQ,EAAE,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACpC,CAAC,CAAC;QAEH,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,CAAC;QAC9D,IAAI,CAAC,MAAM,CAAC,IAAI,CACd,mEAAY,CAAC,IAAI,CAAC,CACnB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED,KAAK;QACH,IAAI,CAAC,IAAI;aACN,0BAA0B,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,QAAQ,CAAC;aACnG,IAAI,CAAC,KAAK,CAAC,EAAE;YACZ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAClC,CAAC,CAAC;aACD,KAAK,CAAC,GAAG,CAAC,EAAE;YACX,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;YAClD,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,6DAA6D,CAAC,CAAC;QAClF,CAAC,CAAC,CAAC;IACP,CAAC;IAED,UAAU,CAAC,GAAW;QACpB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;IACzC,CAAC;IAED,mBAAmB;QACjB,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IACzB,CAAC;CACF;;YA9DO,0DAAW;YACX,kEAAe;YACC,sDAAM;YAAtB,8DAAc;YAGd,8DAAe;;AAOV,kBAAkB;IAL9B,+DAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,uFAA0C;;KAE3C,CAAC;GACW,kBAAkB,CAkD9B;AAlD8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbU;AACiC;AACtB;AACM;AACwB;AACxB;AACO;AACO;AACvB;AACiB;AACC;AAEnE,MAAM,MAAM,GAAW;IACrB,EAAC,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAC;IACnD,EAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,iEAAS,EAAC;IACrC,EAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,uEAAW,EAAC;IACzC,EAAC,IAAI,EAAE,aAAa,EAAE,SAAS,EAAE,uEAAW,EAAC;IAC7C,EAAC,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,qFAAe,EAAC;IAC9C,EAAC,IAAI,EAAE,oBAAoB,EAAE,SAAS,EAAE,qFAAe,EAAC;IACxD,EAAC,IAAI,EAAE,aAAa,EAAE,SAAS,EAAE,+FAAoB,EAAC;IACtD,EAAC,IAAI,EAAE,iBAAiB,EAAE,SAAS,EAAE,+FAAoB,EAAC;IAC1D,EAAC,IAAI,EAAE,UAAU,EAAE,SAAS,EAAE,8EAAY,EAAC;IAC3C,EAAC,IAAI,EAAE,oBAAoB,EAAE,SAAS,EAAE,8EAAY,EAAC;IACrD,EAAC,IAAI,EAAE,4BAA4B,EAAE,SAAS,EAAE,8EAAY,EAAC;IAC7D,EAAC,IAAI,EAAE,wCAAwC,EAAE,SAAS,EAAE,8EAAY,EAAC;IACzE,EAAC,IAAI,EAAE,aAAa,EAAE,SAAS,EAAE,uEAAW,EAAC;IAC7C,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,8DAAQ,EAAC;IACnC,EAAC,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,gFAAa,EAAC;IAC1C,EAAC,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,iFAAc,EAAC;IAC/C,EAAC,IAAI,EAAE,gBAAgB,EAAE,SAAS,EAAE,iFAAc,EAAC;CACpD,CAAC;IAQW,gBAAgB,SAAhB,gBAAgB;CAAI;AAApB,gBAAgB;IAN5B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,kBAAkB,EAAE,iEAAiB,EAAE,CAAC;SACxE;QACD,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,gBAAgB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtC8B;AACsB;AAClB;AACQ;AACL;AACf;AACkC;AACL;AACzB;AAEgB;IAO1D,oBAAoB,SAApB,oBAAoB;IAW/B,YAAmB,eAAgC,EAAU,WAAwB,EACjE,MAAc,EAAU,KAAqB,EAAS,QAAyB,EAChF,SAA2B,EAAU,OAA2B,EAC/D,cAA8B;QAH/B,oBAAe,GAAf,eAAe,CAAiB;QAAU,gBAAW,GAAX,WAAW,CAAa;QACjE,WAAM,GAAN,MAAM,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAgB;QAAS,aAAQ,GAAR,QAAQ,CAAiB;QAChF,cAAS,GAAT,SAAS,CAAkB;QAAU,YAAO,GAAP,OAAO,CAAoB;QAC/D,mBAAc,GAAd,cAAc,CAAgB;QAChD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,oEAAY,CAAC,CAAC;QAChE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,oEAAY,CAAC,CAAC;IACnE,CAAC;IAED,aAAa;QACX,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;QAC9D,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;QAClD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QAChD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;QAClD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;IAC1D,CAAC;IAED,WAAW;QACT,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;IAC/B,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;QAChE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAE,MAAM,CAAC,EAAE;YACrD,IAAI,MAAM,CAAC,EAAE,EAAE;gBACb,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,EAAE,CAAC;gBACxB,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,EAAC,OAAO,EAAE,KAAK,EAAC,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE;oBAChG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;oBAC1D,IAAI,CAAC,aAAa,EAAE,CAAC;gBACvB,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,oEAAY,CAAC,CAAC;QAChE,IAAI,CAAC,OAAO,GAAG,IAAI,+DAAO,EAAE,CAAC;QAE7B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACxC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACjC,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACxC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YAClC,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACjC,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACpC,KAAK,EAAE,CAAC,EAAE,EAAG;YACb,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;SACtC,CAAC,CAAC;IACL,CAAC;IAEK,WAAW;;YACf,MAAM,sDAAM,CAAC,QAAQ,CAAC;gBACpB,OAAO,EAAE,EAAE;gBACX,YAAY,EAAE,IAAI;gBAClB,UAAU,EAAE,gEAAgB,CAAC,MAAM;gBACnC,WAAW,EAAE,IAAI;gBACjB,MAAM,EAAE,4DAAY,CAAC,MAAM;aAC5B,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBACd,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;gBAChD,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,YAAY,CAAC;gBACzC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,cAAc,CAAC;YACxC,CAAC,CAAC,CAAC;QACL,CAAC;KAAA;IAED,aAAa;QACX,IAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE;YACzB,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,KAAK,EAAE,EAAE;gBACvC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC;aACrC;YAED,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC;YAC9D,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC;YAClD,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC;YAChD,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;YACtD,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC;YAClD,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC;YAExD,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE;gBAC7E,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBACnC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC;oBACjC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,GAAG,EAAE,cAAc,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;wBACtF,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;wBACtD,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;4BAC1F,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;wBACrC,CAAC,CAAC,CAAC;oBACL,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;SACrC;IACH,CAAC;IAED,aAAa;QACX,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC;QAChD,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC;QAC9D,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC;QAClD,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC;QAChD,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC;QACxD,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC;QAElD,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,KAAK,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE;YAC3D,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;gBACnC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC;gBACjC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;oBACpF,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;oBACtD,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;wBACrF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;oBACnC,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,oCAAoC;YACpC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CACzF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CACjC,CAAC;SACH;IAEH,CAAC;IAED,sBAAsB,CAAC,OAAY,EAAE,MAAc,EAAE,SAAiB;QACpE,MAAM,IAAI,GAAG,OAAO,CAAC;QACrB,MAAM,QAAQ,GAAG,YAAY,GAAG,MAAM,GAAG,GAAG,GAAG,SAAS,GAAG,YAAY,CAAC;QACxE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,GAAG,QAAQ,CAAC;QAC1C,MAAM,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACvC,OAAO,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACvC,CAAC;IAED,UAAU,CAAC,EAAU;QACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,CAAC;IACzC,CAAC;IAED,aAAa;QACX,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAC3D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;IACL,CAAC;CACF;;YArKO,yEAAe;YAEf,0DAAW;YAIK,uDAAM;YAAtB,+DAAc;YAHd,kEAAe;YACf,wEAAgB;YAChB,yEAAkB;YAGlB,kFAAc;;AAOT,oBAAoB;IALhC,+DAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,yFAA4C;;KAE7C,CAAC;GACW,oBAAoB,CAsJhC;AAtJgC;;;;;;;;;;;;;ACjBjC;AAAe,4vBAA6rB,E;;;;;;;;;;;;ACA5sB;AAAA;AAAA;AAAA;AAAA;AAAmD;AACU;AAEtD,MAAM,KAAK;IAQhB;QACE,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,EAAE,CAAC;QAChC,IAAI,CAAC,OAAO,GAAG,eAAe,CAAC,SAAS,CAAC;QACzC,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IAC1B,CAAC;IAED,IAAI,EAAE;QACJ,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IAED,IAAI,EAAE,CAAC,KAAa;QAClB,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC;IACnB,CAAC;IAED,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,IAAI,MAAM,CAAC,KAAa;QACtB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,IAAI,OAAO;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,IAAI,OAAO,CAAC,KAAa;QACvB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;IACxB,CAAC;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED,IAAI,YAAY,CAAC,KAAW;QAC1B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,IAAI,MAAM,CAAC,KAAsB;QAC/B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAED,IAAI,YAAY,CAAC,KAAqB;QACpC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED,YAAY;QACV,OAAO,sEAAY,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAED,cAAc,CAAC,KAAK;QAClB,MAAM,YAAY,GAAG,IAAI,gEAAY,EAAE,CAAC;QACxC,MAAM,QAAQ,GAAG,sEAAY,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAC5C,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE;YAC7C,QAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,YAAY,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;QACH,OAAO,sEAAY,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IACvC,CAAC;IAED,aAAa;QACX,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;YAChC,UAAU,IAAI,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,aAAa,CAAC;QACxD,CAAC,CAAC,CAAC;QACH,OAAO,UAAU,CAAC;IACpB,CAAC;CACF;AAED,IAAY,eAKX;AALD,WAAY,eAAe;IACzB,0CAAwB;IACxB,0CAAuB;IACvB,0CAAuB;IACvB,0CAAuB;AACzB,CAAC,EALW,eAAe,KAAf,eAAe,QAK1B;;;;;;;;;;;;;AC7FD;AAAe,6GAA8C,mHAAmH,E;;;;;;;;;;;;ACAhL;AAAe,6GAA8C,uHAAuH,E;;;;;;;;;;;;ACEpL;AAAA;AAAA,IAAY,SAIX;AAJD,WAAY,SAAS;IACnB,iDAAQ;IACR,yCAAI;IACJ,2CAAK;AACP,CAAC,EAJW,SAAS,KAAT,SAAS,QAIpB;AAED;;;;;;;;;;;;;GAaG;;;;;;;;;;;;;ACrBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAC4B;AAE9B;AACY;AAE/B;AACsC;AAGhE,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,gGAAsB,EAAE,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AAElC,uFAAoB,CAAC,MAAM,CAAC,CAAC;;;;;;;;;;;;ACjB7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,qC","file":"main.js","sourcesContent":["export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kdWN0LnZpZXcuc2NzcyJ9 */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJ0LnZpZXcuc2NzcyJ9 */\";","export default \"<form [formGroup]=\\\"registrationForm\\\">\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" type=\\\"text\\\">Nombre</ion-label>\\r\\n    <ion-input formControlName=\\\"name\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" type=\\\"email\\\">Email</ion-label>\\r\\n    <ion-input formControlName=\\\"email\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" type=\\\"password\\\">Contraseña</ion-label>\\r\\n    <ion-input formControlName=\\\"password\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" type=\\\"email\\\">Telefono</ion-label>\\r\\n    <ion-input formControlName=\\\"phoneNumber\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"stacked\\\" type=\\\"file\\\">Foto</ion-label>\\r\\n    <ion-input (click)=\\\"takePicture()\\\" readonly formControlName=\\\"picture\\\" [value]=\\\"registrationForm.value.picture\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item>\\r\\n    <ion-label position=\\\"floating\\\" type=\\\"text\\\">Ubicación</ion-label>\\r\\n    <ion-input value=\\\"Valencia\\\" formControlName=\\\"location\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item>\\r\\n    <ion-checkbox slot=\\\"start\\\" formControlName=\\\"isFarmer\\\"></ion-checkbox>\\r\\n    <ion-label>Soy Productor/a</ion-label>\\r\\n  </ion-item>\\r\\n</form>\\r\\n<ion-row class=\\\"cardfooter\\\">\\r\\n  <ion-col>\\r\\n    <ion-button class=\\\"ion-float-right\\\" (click)=\\\"registerUser()\\\">Crear cuenta</ion-button>\\r\\n  </ion-col>\\r\\n</ion-row>\\r\\n<!--\\r\\n<div>\\r\\n  <form [formGroup]=\\\"registrationForm\\\">\\r\\n    <div class=\\\"form-check mb-2\\\">\\r\\n      <input class=\\\"form-check-input\\\" type=\\\"checkbox\\\" value=\\\"\\\" id=\\\"defaultCheck1\\\" formControlName=\\\"isFarmer\\\">\\r\\n      <label class=\\\"form-check-label\\\" for=\\\"defaultCheck1\\\">Soy agricultor</label>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"formGroupExampleInput\\\">Nombre</label>\\r\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"formGroupExampleInput\\\" placeholder=\\\"Tu nombre\\\" formControlName=\\\"name\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"formGroupExampleInput2\\\">Email</label>\\r\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"formGroupExampleInput2\\\" placeholder=\\\"tu_email@gmail.com\\\" formControlName=\\\"email\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"formGroupExampleInput2\\\">Contraseña</label>\\r\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"formGroupExampleInput3\\\" placeholder=\\\"Contraseña\\\" formControlName=\\\"password\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"formGroupExampleInput2\\\">Telefono</label>\\r\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"formGroupExampleInput4\\\" placeholder=\\\"Numero de telefono\\\" formControlName=\\\"phoneNumber\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"formGroupExampleInput2\\\">Foto</label>\\r\\n        <ion-button (click)=\\\"takePicture()\\\">Gelo</ion-button>\\r\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"formGroupExampleInput5\\\" placeholder=\\\"Foto\\\" formControlName=\\\"picture\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <label for=\\\"formGroupExampleInput2\\\">Ubicacion</label>\\r\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"formGroupExampleInput6\\\" placeholder=\\\"Ubicacion\\\" formControlName=\\\"location\\\">\\r\\n    </div>\\r\\n  </form>\\r\\n  <div class=\\\"d-flex justify-content-end\\\">\\r\\n    <button class=\\\"d-flex justify-content-end btn btn-outline-primary m-2\\\" id=\\\"login\\\" (click)=\\\"registerUser()\\\">Crear cuenta</button>\\r\\n  </div>\\r\\n</div>\\r\\n-->\\r\\n\";","export default \"<ion-item (click)=\\\"openProduct(product)\\\">\\n  <!-- Vista si hay stock -->\\n  <ion-avatar slot=\\\"start\\\">\\n    <img [src]=\\\"product.picture\\\" [ngStyle]=\\\"!product.stock ? { '-webkit-filter': 'grayscale(100%)', 'filter': 'grayscale(100%)'} : {}\\\">\\n  </ion-avatar>\\n  <ion-label>\\n    <h2>{{product.name}}</h2>\\n    <h3>{{product.description}}</h3>\\n    <ion-badge *ngIf=\\\"!product.stock\\\" color=\\\"danger\\\" slot=\\\"end\\\">Sin stock</ion-badge>\\n  </ion-label>\\n  <ion-label slot=\\\"end\\\">\\n    {{product.price | currency:'EUR' }} x {{unitsList[product.unit]}}\\n  </ion-label>\\n</ion-item>\\n\";","import { Component, OnInit } from '@angular/core';\r\nimport {AngularFirestore, AngularFirestoreCollection} from '@angular/fire/firestore';\r\nimport {Product, UnitTypeEnum} from '../../models/product/product';\r\nimport {AngularFireStorage} from '@angular/fire/storage';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {ProductService} from '../../services/products/product.service';\r\nimport {EnumToArrayPipe} from '../../pipes/enum-to-array.pipe';\r\nimport {AuthServiceService} from '../../services/auth/auth-service.service';\r\nimport {ViewWillEnter} from '@ionic/angular';\r\nimport { ViewChild } from '@angular/core';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-products',\r\n  templateUrl: './products.view.html',\r\n  styleUrls: ['./products.view.scss']\r\n})\r\nexport class ProductsView implements OnInit, ViewWillEnter {\r\n  // @ViewChild('mySearchbar') searchbar: Searchbar;\r\n\r\n  public filteredProducts: Product[];\r\n  public productList: Product[];\r\n  private pathId: string;\r\n  private isSearch = false;\r\n  searchTerms: any;\r\n\r\n  constructor(public firestore: AngularFirestore, public storage: AngularFireStorage,\r\n              private router: Router, private route: ActivatedRoute, public productService: ProductService,\r\n              private authService: AuthServiceService) {\r\n    this.productList = [];\r\n    this.filteredProducts = [];\r\n    this.pathId = null;\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.route.params.subscribe( params => {\r\n      if (params.userId) {\r\n        this.pathId = params.userId;\r\n        this.productList = [];\r\n        this.filteredProducts = [];\r\n        this.isSearch = true;\r\n        this.productService.loadProductsByOwnerId(this.pathId).then(value => {\r\n          this.productList = value;\r\n          this.filteredProducts = this.productList;\r\n          this.filteredProducts.sort(compare);\r\n        });\r\n      } else {\r\n        this.pathId = null;\r\n        this.isSearch = false;\r\n        this.productService.loadAllProducts().then(value => {\r\n          this.productList = value;\r\n          this.filteredProducts = this.productList;\r\n          this.filteredProducts.sort(compare);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  openProduct(product: Product) {\r\n    if (product.stock || product.ownerId === this.authService.getCurrentUserId()) {\r\n      this.router.navigate(['/product', product.id]);\r\n    }\r\n  }\r\n\r\n  getItems(ev: any) {\r\n    // Reset items back to all of the items\r\n    this.filteredProducts = this.productList;\r\n    // set val to the value of the searchbar\r\n    const val = ev.target.value;\r\n\r\n    // if the value is an empty string don't filter the items\r\n    if (val && val.trim() !== '') {\r\n      this.isSearch = true;\r\n      this.filteredProducts = this.productList.filter(value => {\r\n        return (value.name.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n      });\r\n      // this.items = this.items.filter((item) => {\r\n      //  return (item.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n      //  });\r\n    } else {\r\n      if (!this.pathId) {\r\n        this.isSearch = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  searchCategory(idNumber: number) {\r\n    this.isSearch = true;\r\n    this.filteredProducts = this.productList.filter(value => {\r\n      // @ts-ignore\r\n      return value.category === idNumber;\r\n    });\r\n  }\r\n\r\n  cancelSearch() {\r\n    this.filteredProducts = this.productList;\r\n    if (!this.pathId) {\r\n      this.isSearch = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction compare(a, b) {\r\n  if (a.stock && !b.stock){\r\n    return -1;\r\n  }\r\n  if (!a.stock && b.stock){\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {AngularFirestore} from '@angular/fire/firestore';\r\nimport {AngularFireStorage} from '@angular/fire/storage';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Product} from '../../models/product/product';\r\nimport {User} from '../../models/user/user.model';\r\nimport {UserRoles} from '../../models/user/user-roles.enum';\r\nimport {ProfilesService} from '../../services/profiles/profiles.service';\r\n\r\n@Component({\r\n  selector: 'app-profile-list',\r\n  templateUrl: './profile-list.view.html',\r\n  styleUrls: ['./profile-list.view.scss']\r\n})\r\nexport class ProfileListView implements OnInit {\r\n  public profileList: User[];\r\n  private profileImages: any[];\r\n  private currentProfile: User;\r\n\r\n  constructor(public firestore: AngularFirestore, public storage: AngularFireStorage,\r\n              private router: Router, private route: ActivatedRoute, public profileService: ProfilesService) {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.profileList = [];\r\n    this.profileImages = [];\r\n    this.currentProfile = new User();\r\n\r\n    this.profileService.getAllFarmers().then(value => this.profileList = value);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async loadCurrentPicture(imageUrl: string, index: number) {\r\n    const ref = this.storage.ref(imageUrl);\r\n    ref.getDownloadURL().subscribe(url => {\r\n      this.profileList[index].picture = url;\r\n      return url;\r\n    });\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kdWN0LWZvcm0uY29tcG9uZW50LnNjc3MifQ== */\";","export default \"<ion-content>\\r\\n  <ion-card>\\r\\n    <ion-card-header>\\r\\n      <ion-card-title>Has facturado: {{anything.totalSaleAmount | currency:'EUR'}}</ion-card-title>\\r\\n      <ion-card-subtitle>Con un total de {{anything.totalOrders}} pedidos</ion-card-subtitle>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>\\r\\n      Tus productos mas vendidos:\\r\\n      <ion-list>\\r\\n        <ion-item *ngFor=\\\"let product of anything.productsOrdered\\\">\\r\\n          {{product.name}} x\\r\\n          {{product.productAmount}}\\r\\n        </ion-item>\\r\\n      </ion-list>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n\";","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {Router} from '@angular/router';\r\nimport {AngularFirestore, AngularFirestoreDocument} from '@angular/fire/firestore';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.view.html',\r\n  styleUrls: ['./login.view.sass']\r\n})\r\nexport class LoginView implements OnInit {\r\n  isLogin = true;\r\n  private userCollection: AngularFirestoreDocument;\r\n\r\n  constructor(public afAuth: AngularFireAuth, public firestore: AngularFirestore, private router: Router) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.afAuth.authState.subscribe(user => {\r\n    if (user) {\r\n      this.router.navigate(['/profile']);\r\n    }\r\n    });\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {OrderService} from '../../services/order/order.service';\r\nimport {Order} from '../../models/order/order';\r\n\r\n@Component({\r\n  selector: 'app-order-list',\r\n  templateUrl: './order-list.view.html',\r\n  styleUrls: ['./order-list.view.scss']\r\n})\r\nexport class OrderListView implements OnInit {\r\n  public orderList: Order[];\r\n  public orderShown: Order[];\r\n  ordersShown = 'Pendiente';\r\n\r\n  constructor(public orderService: OrderService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.orderList = [];\r\n    this.orderService.loadAllOrdersOfCurrentUser().then(value => {\r\n      this.orderList = value;\r\n      this.orderList.sort(compare);\r\n      this.orderShown = this.orderList.filter(value1 => value1.status === this.ordersShown);\r\n    });\r\n  }\r\n\r\n  updateOrders() {\r\n    // @ts-ignore\r\n    this.orderShown = this.orderList.filter(value => value.status === this.ordersShown);\r\n  }\r\n}\r\n\r\nfunction compare(a, b) {\r\n  if (a.creationDate.seconds < b.creationDate.seconds){\r\n    return -1;\r\n  }\r\n  if (a.creationDate.seconds > b.creationDate.seconds){\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {User} from '../../models/user/user.model';\r\nimport {UserRoles} from '../../models/user/user-roles.enum';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {OrderService} from '../../services/order/order.service';\r\nimport {Stats} from '../../models/statistics/stats';\r\n\r\n@Component({\r\n  selector: 'app-statistics',\r\n  templateUrl: './statistics.view.html',\r\n  styleUrls: ['./statistics.view.scss']\r\n})\r\nexport class StatisticsView implements OnInit {\r\n  public anything: Stats;\r\n  constructor(private router: Router, private route: ActivatedRoute, public orderService: OrderService) {\r\n    this.anything = new Stats();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.orderService.loadUserSalesRecord().then(value => this.anything = value);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {User} from '../../models/user/user.model';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {AngularFirestore, AngularFirestoreDocument} from '@angular/fire/firestore';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {AngularFireStorage} from '@angular/fire/storage';\r\nimport {UserRoles} from '../../models/user/user-roles.enum';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.view.html',\r\n  styleUrls: ['./profile.view.sass']\r\n})\r\nexport class ProfileView implements OnInit {\r\n  public user: User;\r\n  public pathId: string;\r\n  private loggedId: string;\r\n  private userCollection: AngularFirestoreDocument<User>;\r\n  public profileImage: any;\r\n  public isFarmer = false;\r\n\r\n  constructor(private router: Router, private route: ActivatedRoute,\r\n              public firestore: AngularFirestore, public afAuth: AngularFireAuth,\r\n              public storage: AngularFireStorage, public window: Window) {\r\n    this.user = new User();\r\n\r\n    this.route.params.subscribe( params => {\r\n      if (params.id) {\r\n        this.pathId = params.id;\r\n        this.userCollection = firestore.doc<User>('profiles/' + this.pathId);\r\n        this.userCollection.valueChanges({idField: '_id'}).subscribe(user => {\r\n          this.user = this.user.convertFromDTO(user);\r\n          this.isFarmer = this.user.role === UserRoles.PRODUCER;\r\n          const ref = this.storage.ref(this.user.picture);\r\n          ref.getDownloadURL().subscribe(url => {\r\n            this.profileImage = url;\r\n          });\r\n        });\r\n      } else {\r\n        this.afAuth.authState.subscribe(loggedUser => {\r\n          if (loggedUser) {\r\n            this.loggedId = loggedUser.uid;\r\n            this.pathId = loggedUser.uid;\r\n            this.userCollection = firestore.doc<User>('profiles/' + this.pathId);\r\n            this.userCollection.valueChanges({idField: '_id'}).subscribe(user => {\r\n              this.user = this.user.convertFromDTO(user);\r\n              const ref = this.storage.ref(this.user.picture);\r\n              ref.getDownloadURL().subscribe(url => {\r\n                this.profileImage = url;\r\n              });\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  logout(){\r\n    this.afAuth.signOut().then(() => {\r\n      this.router.navigate(['/login']);\r\n    });\r\n  }\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Product, UnitTypeEnum} from '../../models/product/product';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {ProductService} from '../../services/products/product.service';\nimport {AuthServiceService} from '../../services/auth/auth-service.service';\nimport {EnumToArrayPipe} from '../../pipes/enum-to-array.pipe';\n\n@Component({\n  selector: 'app-product-list',\n  templateUrl: './product-list.component.html',\n  styleUrls: ['./product-list.component.scss'],\n})\nexport class ProductListComponent implements OnInit {\n  @Input() product: Product;\n  private unitsList: string[];\n\n  constructor(private router: Router, private route: ActivatedRoute, public productService: ProductService,\n              private authService: AuthServiceService, public enumToArrayPipe: EnumToArrayPipe) {\n    this.unitsList = this.enumToArrayPipe.transform(UnitTypeEnum);\n  }\n\n  ngOnInit() {}\n\n  openProduct(product: Product) {\n    if (product.stock || product.ownerId === this.authService.getCurrentUserId()) {\n      this.router.navigate(['/product', product.id]);\n    }\n  }\n}\n","import {Component, Input, OnInit, Output, EventEmitter} from '@angular/core';\r\nimport {Product} from '../../models/product/product';\r\nimport {CartServiceService} from '../../services/order/cart-service.service';\r\nimport {ProductOrder} from '../../models/cart/product-order';\r\n\r\n@Component({\r\n  selector: 'app-cart-item',\r\n  templateUrl: './cart-item.component.html',\r\n  styleUrls: ['./cart-item.component.scss']\r\n})\r\nexport class CartItemComponent implements OnInit {\r\n\r\n  @Input() product: ProductOrder;\r\n  @Output() productEvent = new EventEmitter<any>();\r\n\r\n  order: ProductOrder;\r\n  orderIndex: number;\r\n\r\n  constructor(public cartService: CartServiceService) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  removeFromCart() {\r\n    this.cartService.removeProductOrderFromCart(this.product);\r\n    this.productEvent.emit({operation: 'delete', product: this.product}) ;\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {CartServiceService} from '../../services/order/cart-service.service';\r\nimport {ProductService} from '../../services/products/product.service';\r\nimport {AlertController} from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.view.html',\r\n  styleUrls: ['./cart.view.scss']\r\n})\r\nexport class CartView implements OnInit {\r\n  private cart = [];\r\n\r\n  constructor(public cartService: CartServiceService, public  productService: ProductService, public alertController: AlertController) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.loadItemsOfCart();\r\n  }\r\n\r\n  cartItemEvent(event) {\r\n    if (event.operation === 'delete'){\r\n      this.loadItemsOfCart();\r\n    }\r\n  }\r\n\r\n  loadItemsOfCart(){\r\n    this.cart = Array.prototype.concat.apply([], this.cartService.getAllProductOrders());;\r\n  }\r\n\r\n  checkout() {\r\n    this.cartService.checkoutCart();\r\n    this.cart = [];\r\n    this.presentAlert();\r\n  }\r\n\r\n  async presentAlert() {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Enhorabuena',\r\n      message: 'Tu pedido ha sido generado con exito, dirigete a tu carrito para revisarlo.',\r\n      buttons: ['Aceptar']\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n}\r\n","var map = {\n\t\"./pwa-action-sheet.entry.js\": [\n\t\t\"jDxf\",\n\t\t43\n\t],\n\t\"./pwa-camera-modal-instance.entry.js\": [\n\t\t\"37vE\",\n\t\t44\n\t],\n\t\"./pwa-camera-modal.entry.js\": [\n\t\t\"cJxf\",\n\t\t45\n\t],\n\t\"./pwa-camera.entry.js\": [\n\t\t\"eGHz\",\n\t\t46\n\t],\n\t\"./pwa-toast.entry.js\": [\n\t\t\"fHjd\",\n\t\t47\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"KwcL\";\nmodule.exports = webpackAsyncContext;","import { Injectable } from '@angular/core';\r\nimport {Cart} from '../../models/cart/cart';\r\nimport {ProductOrder} from '../../models/cart/product-order';\r\nimport {classToPlain, plainToClass} from 'class-transformer';\r\nimport {Product} from '../../models/product/product';\r\nimport {Order} from '../../models/order/order';\r\nimport {OrderItem} from '../../models/order/order-item';\r\nimport {OrderService} from './order.service';\r\nimport {AngularFirestore} from '@angular/fire/firestore';\r\nimport {AuthServiceService} from '../auth/auth-service.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CartServiceService {\r\n  public currentCart: Cart;\r\n\r\n  constructor(public orderService: OrderService, public firestore: AngularFirestore, public authService: AuthServiceService) {\r\n    this.currentCart = new Cart();\r\n  }\r\n\r\n  addProductToCart(productOrder: ProductOrder){\r\n    const ownerOrder = this.currentCart.ordersList.find( order => order.ownerId === productOrder.productOwnerId);\r\n\r\n    // Recorremos el carrito buscando si este dueño ya tiene un pedido asociado\r\n    if (ownerOrder){\r\n      const currentOrderedItem = ownerOrder.orderedItems.find( orderedItem => orderedItem.productId === productOrder.productId);\r\n\r\n      // Si lo encontramos revisamos si ya tiene ese producto en el carro y actualizamos la cantidad\r\n      if (!currentOrderedItem) {\r\n        ownerOrder.orderedItems.push(productOrder);\r\n      }\r\n    } else {\r\n      this.currentCart.ordersList.push(this.generateNewOrderFromProduct(productOrder));\r\n    }\r\n  }\r\n\r\n  generateNewOrderFromProduct(productOrder: ProductOrder){\r\n    const newOrderToAdd = new Order();\r\n    newOrderToAdd.userId = this.authService.getCurrentUserId();\r\n    newOrderToAdd.ownerId = productOrder.productOwnerId;\r\n\r\n    newOrderToAdd.orderedItems.push(productOrder);\r\n\r\n    return newOrderToAdd;\r\n  }\r\n\r\n  getAllProductIds() {\r\n    let allId = [];\r\n    allId = this.currentCart.ordersList.map(value => value.orderedItems.map(value1 => value1.productId) );\r\n    return allId;\r\n  }\r\n\r\n  getAllProductOrders() {\r\n    let allProductOrders = [];\r\n    allProductOrders = this.currentCart.ordersList.map(value => value.orderedItems);\r\n    return allProductOrders;\r\n  }\r\n\r\n  removeProductOrderFromCart(product: ProductOrder) {\r\n    const orderToEdit = this.currentCart.ordersList.find(value => value.orderedItems.find(value1 => value1 === product));\r\n    console.log(orderToEdit);\r\n    const productIndex = orderToEdit.orderedItems.indexOf(product);\r\n    if (productIndex > -1){\r\n      orderToEdit.orderedItems.splice(productIndex, 1);\r\n      if (orderToEdit.orderedItems.length <= 0){\r\n        const orderIndex = this.currentCart.ordersList.indexOf(orderToEdit);\r\n        this.currentCart.ordersList.splice(orderIndex, 1);\r\n      }\r\n    }\r\n    console.log(this.currentCart.ordersList);\r\n    console.log(orderToEdit);\r\n  }\r\n\r\n  removeOrderFromCart(order: Order) {\r\n    const orderIndex = this.currentCart.ordersList.indexOf(order);\r\n    if (orderIndex > -1){\r\n      this.currentCart.ordersList.splice(orderIndex, 1);\r\n    }\r\n  }\r\n\r\n  checkoutCart(){\r\n    console.log(this.currentCart);\r\n    if (this.currentCart.ordersList.length > 0){\r\n      this.currentCart.ordersList.forEach(value => {\r\n        const newOrder = this.orderService.createOrderEntity(value);\r\n        this.uploadOrder(newOrder).then(value1 => {\r\n          this.removeOrderFromCart(value);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  uploadOrder(order: Order){\r\n    return new Promise<any>((resolve, reject) => {\r\n      const orderCollection = this.firestore.collection('orders');\r\n      orderCollection.add(order).then(value => {\r\n        resolve(value);\r\n      });\r\n    });\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9maWxlLnZpZXcuc2FzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {AngularFirestore, AngularFirestoreDocument} from '@angular/fire/firestore';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {AngularFireStorage} from '@angular/fire/storage';\r\nimport {Product} from '../../models/product/product';\r\nimport {User} from '../../models/user/user.model';\r\nimport {ProductOrder} from '../../models/cart/product-order';\r\nimport {CartServiceService} from '../../services/order/cart-service.service';\r\nimport {ProductService} from '../../services/products/product.service';\r\n\r\n@Component({\r\n  selector: 'app-product',\r\n  templateUrl: './product.view.html',\r\n  styleUrls: ['./product.view.scss']\r\n})\r\nexport class ProductView implements OnInit {\r\n  public product: Product;\r\n  private pathId: string;\r\n  private productCollection: AngularFirestoreDocument<Product>;\r\n  public productImage: any;\r\n  isOwner = false;\r\n  private loggedId: string;\r\n  selectVal = 0;\r\n  private productOrder: ProductOrder;\r\n\r\n  constructor(private router: Router, private route: ActivatedRoute,\r\n              public firestore: AngularFirestore, public afAuth: AngularFireAuth,\r\n              public storage: AngularFireStorage, public cartService: CartServiceService,\r\n              public productService: ProductService) {\r\n    this.product = new Product();\r\n    this.productOrder = new ProductOrder();\r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.route.params.subscribe( params => {\r\n      if (params.id) {\r\n        if (this.pathId !== params.id) {\r\n          this.pathId = params.id;\r\n          this.productService.loadProductById(this.pathId).then(value => {\r\n            this.product = value;\r\n            this.productOrder.product = this.product;\r\n            this.productOrder.priceByEach = this.product.price;\r\n            this.productOrder.productId = this.product.id;\r\n            this.productOrder.productOwnerId = this.product.ownerId;\r\n\r\n            this.afAuth.authState.subscribe(loggedUser => {\r\n              if (loggedUser) {\r\n                this.loggedId = loggedUser.uid;\r\n                this.loggedId === this.product.ownerId ? this.isOwner = true : this.isOwner = false;\r\n              }\r\n            });\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  addToCart() {\r\n    // TODO: Quitar el boton de agregar y poner uno de eliminar del carrito\r\n    this.cartService.addProductToCart(this.productOrder);\r\n  }\r\n}\r\n","export class Stats {\r\n  totalSaleAmount: number;\r\n  totalOrders: number;\r\n  productsOrdered: StatsProductOrders[];\r\n\r\n  constructor() {\r\n    this.productsOrdered = [];\r\n    this.totalOrders = 0;\r\n    this.totalSaleAmount = 0;\r\n  }\r\n}\r\n\r\nexport class StatsProductOrders {\r\n  productId: string;\r\n  productAmount: number;\r\n  numberOfOrders: number;\r\n  name: string;\r\n\r\n  constructor() {\r\n    this.productAmount = 0;\r\n    this.numberOfOrders = 0;\r\n    this.name = '';\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJ0LWl0ZW0uY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {Router} from '@angular/router';\r\nimport {AngularFirestore, AngularFirestoreDocument} from '@angular/fire/firestore';\r\nimport {User} from '../../models/user/user.model';\r\nimport {UserRoles} from '../../models/user/user-roles.enum';\r\nimport {ProfilesService} from '../../services/profiles/profiles.service';\r\n\r\n@Component({\r\n  selector: 'app-navigation-bar',\r\n  templateUrl: './navigation-bar.component.html',\r\n  styleUrls: ['./navigation-bar.component.scss'],\r\n})\r\nexport class NavigationBarComponent implements OnInit {\r\n  public isFarmer = false;\r\n  public isLogged = false;\r\n  private userCollection: AngularFirestoreDocument;\r\n  public userId: string;\r\n\r\n  constructor(public afAuth: AngularFireAuth, public router: Router,\r\n              public firestore: AngularFirestore,\r\n              public profilesService: ProfilesService) {\r\n    this.afAuth.authState.subscribe(user => {\r\n      if (user) {\r\n        this.isLogged = true;\r\n        this.userId = user.uid;\r\n        this.userCollection = firestore.doc('profiles/' + user.uid);\r\n        this.profilesService.loadUserById(user.uid).then(realUser => {\r\n          this.isFarmer = realUser.role === UserRoles.PRODUCER;\r\n        });\r\n      } else {\r\n        this.isLogged = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Order, OrderStatusEnum} from '../../models/order/order';\r\nimport {AuthServiceService} from '../../services/auth/auth-service.service';\r\nimport {ProfilesService} from '../../services/profiles/profiles.service';\r\nimport {User} from '../../models/user/user.model';\r\nimport {OrderService} from '../../services/order/order.service';\r\n\r\n@Component({\r\n  selector: 'app-order-item',\r\n  templateUrl: './order-item.component.html',\r\n  styleUrls: ['./order-item.component.scss']\r\n})\r\nexport class OrderItemComponent implements OnInit {\r\n  @Input() order: Order;\r\n  // @Output()\r\n  public finalPrice = 0;\r\n  private isFarmer = false;\r\n  private orderUser: User;\r\n\r\n  constructor(public authService: AuthServiceService, public profileService: ProfilesService, public orderService: OrderService) {\r\n    this.isFarmer = authService.getIsFarmer();\r\n    this.orderUser = new User();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.finalPrice = this.order.getOrderPrice();\r\n    this.profileService.loadUserById(this.order.userId).then(value => {\r\n      this.orderUser = value;\r\n    });\r\n  }\r\n\r\n  cancelOrder() {\r\n    this.orderService.cancelOrderById(this.order.id).then(value => {\r\n      if (value) {\r\n        this.order.status = OrderStatusEnum.Cancelado;\r\n      }\r\n    });\r\n  }\r\n\r\n  prepareOrder() {\r\n    this.orderService.markOrderAsPreparedById(this.order.id).then(value => {\r\n      if (value) {\r\n        this.order.status = OrderStatusEnum.Preparado;\r\n      }\r\n    });\r\n  }\r\n\r\n  deliveredOrder() {\r\n    this.orderService.markOrderAsDeliveredById(this.order.id).then(value => {\r\n      if (value) {\r\n        this.order.status = OrderStatusEnum.Preparado;\r\n      }\r\n    });\r\n  }\r\n}\r\n","export default \".card-background-page ion-card {\\n  position: relative;\\n  text-align: center;\\n  background-color: #00593b;\\n  max-width: 420px;\\n  max-height: 420px;\\n  --border-radius: 12px !important;\\n}\\n.card-background-page .card-title {\\n  position: absolute;\\n  top: 36%;\\n  font-size: 1.5em;\\n  width: 100%;\\n  font-weight: bold;\\n  color: #fff;\\n}\\n.card-background-page .card-subtitle {\\n  font-size: 0.8em;\\n  position: absolute;\\n  top: 52%;\\n  width: 100%;\\n  color: #fff;\\n}\\n.search {\\n  --border-radius: 12px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXHByb2R1Y3RzLnZpZXcuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQ0FBQTtBQURKO0FBSUU7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7QUFGSjtBQUtFO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQUhKO0FBUUE7RUFDRSxnQ0FBQTtBQUxGIiwiZmlsZSI6InByb2R1Y3RzLnZpZXcuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkLWJhY2tncm91bmQtcGFnZSB7XHJcblxyXG4gIGlvbi1jYXJkIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDU5M2I7XHJcbiAgICBtYXgtd2lkdGg6IDQyMHB4O1xyXG4gICAgbWF4LWhlaWdodDogNDIwcHg7XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDEycHggIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5jYXJkLXRpdGxlIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMzYlO1xyXG4gICAgZm9udC1zaXplOiAxLjVlbTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICB9XHJcblxyXG4gIC5jYXJkLXN1YnRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMC44ZW07XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUyJTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuLnNlYXJjaHtcclxuICAtLWJvcmRlci1yYWRpdXM6IDEycHggIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\";","export default \"<ion-content class=\\\"card-background-page\\\">\\r\\n  <ion-searchbar #mySearchbar [showCancelButton]=\\\"isSearch\\\"\\r\\n                 [value]=\\\"searchTerms\\\"\\r\\n                 class=\\\"search\\\"\\r\\n                 (ionCancel)=\\\"cancelSearch()\\\"\\r\\n                 placeholder=\\\"Buscar\\\"\\r\\n                 (ionInput)=\\\"getItems($event)\\\"></ion-searchbar>\\r\\n  {{searchTerms}}\\r\\n  <ion-grid *ngIf=\\\"!isSearch\\\">\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-card (click)=\\\"searchCategory(0)\\\">\\r\\n          <img src=\\\"assets/categories/iconFruit.png\\\"/>\\r\\n          <div class=\\\"card-title\\\">Frutas</div>\\r\\n          <div class=\\\"card-subtitle\\\"></div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n        <ion-card (click)=\\\"searchCategory(1)\\\">\\r\\n          <img src=\\\"assets/categories/iconVeg.png\\\"/>\\r\\n          <div class=\\\"card-title\\\">Verduras</div>\\r\\n          <div class=\\\"card-subtitle\\\"></div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-card (click)=\\\"searchCategory(2)\\\">\\r\\n          <img src=\\\"assets/categories/iconLegumbres.png\\\"/>\\r\\n          <div class=\\\"card-title\\\">Legumbres</div>\\r\\n          <div class=\\\"card-subtitle\\\"></div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n        <ion-card (click)=\\\"searchCategory(6)\\\">\\r\\n          <img src=\\\"assets/categories/iconHoney.png\\\"/>\\r\\n          <div class=\\\"card-title\\\">Miel</div>\\r\\n          <div class=\\\"card-subtitle\\\"></div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-card (click)=\\\"searchCategory(3)\\\">\\r\\n          <img src=\\\"assets/categories/iconBread.png\\\"/>\\r\\n          <div class=\\\"card-title\\\">Panaderia</div>\\r\\n          <div class=\\\"card-subtitle\\\"></div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n        <ion-card (click)=\\\"searchCategory(4)\\\">\\r\\n          <img src=\\\"assets/categories/iconDairy.png\\\"/>\\r\\n          <div class=\\\"card-title\\\">Lacteos</div>\\r\\n          <div class=\\\"card-subtitle\\\"></div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col>\\r\\n        <ion-card (click)=\\\"searchCategory(5)\\\">\\r\\n          <img src=\\\"assets/categories/iconEggs.png\\\"/>\\r\\n          <div class=\\\"card-title\\\">Huevos</div>\\r\\n          <div class=\\\"card-subtitle\\\"></div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n      <ion-col>\\r\\n        <ion-card (click)=\\\"searchCategory(7)\\\">\\r\\n          <img src=\\\"assets/categories/iconOther.png\\\"/>\\r\\n          <div class=\\\"card-title\\\">Otros</div>\\r\\n          <div class=\\\"card-subtitle\\\"></div>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n  <ion-list *ngIf=\\\"isSearch\\\">\\r\\n    <ion-list-header *ngIf=\\\"filteredProducts.length <= 0\\\">No hemos encontrado productos</ion-list-header>\\r\\n    <app-product-list *ngFor=\\\"let inproduct of filteredProducts\\\" [product]=\\\"inproduct\\\"></app-product-list>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n\";","import {Component, OnInit} from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: 'app.component.html',\r\n  styleUrls: ['app.component.scss'],\r\n})\r\nexport class AppComponent implements OnInit{\r\n  constructor(private router: Router, public afAuth: AngularFireAuth) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.afAuth.authState.subscribe(user => {\r\n      if (!user) {\r\n        this.router.navigate(['/login']);\r\n      }\r\n    });\r\n  }\r\n}\r\n","export default \"<!-- NAV BAR USER -->\\r\\n<ion-tabs *ngIf=\\\"!isFarmer && isLogged\\\">\\r\\n  <ion-tab-bar slot=\\\"bottom\\\">\\r\\n    <ion-tab-button [routerLink]=\\\"'/orders'\\\">\\r\\n      <ion-icon name=\\\"cube-outline\\\"></ion-icon>\\r\\n      <ion-label>Pedidos</ion-label>\\r\\n    </ion-tab-button>\\r\\n\\r\\n    <ion-tab-button [routerLink]=\\\"'/profiles'\\\">\\r\\n      <ion-icon name=\\\"list-outline\\\"></ion-icon>\\r\\n      <ion-label>Productores</ion-label>\\r\\n    </ion-tab-button>\\r\\n\\r\\n    <ion-tab-button [routerLink]=\\\"'/products'\\\">\\r\\n      <ion-icon name=\\\"search-outline\\\"></ion-icon>\\r\\n      <ion-label>Buscar</ion-label>\\r\\n    </ion-tab-button>\\r\\n\\r\\n    <ion-tab-button [routerLink]=\\\"'/cart'\\\">\\r\\n      <ion-icon name=\\\"cart-outline\\\"></ion-icon>\\r\\n      <ion-label>Carrito</ion-label>\\r\\n    </ion-tab-button>\\r\\n\\r\\n    <ion-tab-button [routerLink]=\\\"'/profile'\\\">\\r\\n      <ion-icon name=\\\"person-outline\\\"></ion-icon>\\r\\n      <ion-label>Perfil</ion-label>\\r\\n    </ion-tab-button>\\r\\n  </ion-tab-bar>\\r\\n</ion-tabs>\\r\\n<!-- NAV BAR FARMER -->\\r\\n<ion-tabs *ngIf=\\\"isFarmer && isLogged\\\">\\r\\n  <ion-tab-bar slot=\\\"bottom\\\">\\r\\n    <ion-tab-button [routerLink]=\\\"['/products']\\\">\\r\\n      <ion-icon name=\\\"list-outline\\\"></ion-icon>\\r\\n      <ion-label>Productos</ion-label>\\r\\n    </ion-tab-button>\\r\\n\\r\\n    <ion-tab-button [routerLink]=\\\"'/statistics/' + this.userId\\\">\\r\\n      <ion-icon name=\\\"stats-chart-outline\\\"></ion-icon>\\r\\n      <ion-label>Estadisticas</ion-label>\\r\\n    </ion-tab-button>\\r\\n\\r\\n    <ion-tab-button [routerLink]=\\\"'/productForm'\\\">\\r\\n      <ion-icon name=\\\"add-outline\\\"></ion-icon>\\r\\n      <ion-label>Crear</ion-label>\\r\\n    </ion-tab-button>\\r\\n\\r\\n    <ion-tab-button [routerLink]=\\\"'/orders'\\\">\\r\\n      <ion-icon name=\\\"cube-outline\\\"></ion-icon>\\r\\n      <ion-label>Pedidos</ion-label>\\r\\n    </ion-tab-button>\\r\\n\\r\\n    <ion-tab-button [routerLink]=\\\"'profile'\\\">\\r\\n      <ion-icon name=\\\"person-outline\\\"></ion-icon>\\r\\n      <ion-label>Perfil</ion-label>\\r\\n    </ion-tab-button>\\r\\n  </ion-tab-bar>\\r\\n</ion-tabs>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport {AngularFirestore, AngularFirestoreCollection} from '@angular/fire/firestore';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {User} from '../../models/user/user.model';\r\n\r\nimport {Product} from '../../models/product/product';\r\nimport {AngularFireStorage} from '@angular/fire/storage';\r\nimport {AuthServiceService} from '../auth/auth-service.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProductService {\r\n  private productCollection: AngularFirestoreCollection<unknown>;\r\n\r\n  constructor(public afAuth: AngularFireAuth, public firestore: AngularFirestore,\r\n              public storage: AngularFireStorage, public authService: AuthServiceService) {\r\n    this.productCollection = this.firestore.collection('products');\r\n  }\r\n\r\n  loadAllProducts(){\r\n    return new Promise<any>((resolve, reject) => {\r\n      let productList: Product[] = [];\r\n      this.productCollection.valueChanges({idField: '_id'}).subscribe(productEntities => {\r\n        productList = [];\r\n        productEntities.forEach((value) => {\r\n          const currentProduct = new Product().convertFromDTO(value);\r\n          this.loadProductImage(currentProduct.picture).then(imageUrl => currentProduct.picture = imageUrl);\r\n          productList.push(currentProduct);\r\n        });\r\n        resolve(productList);\r\n      });\r\n    });\r\n  }\r\n\r\n  loadProductsById(productIds: string[]){\r\n    return new Promise<any>((resolve, reject) => {\r\n      if (productIds.length > 0) {\r\n        let productList: Product[] = [];\r\n        const queryCollection = this.firestore.collection('products', ref => ref.where('_id', 'in', productIds));\r\n        queryCollection.valueChanges({idField: '_id'}).subscribe(productEntities => {\r\n          productList = [];\r\n          productEntities.forEach((value) => {\r\n            const currentProduct = new Product().convertFromDTO(value);\r\n            this.loadProductImage(currentProduct.picture).then(imageUrl => currentProduct.picture = imageUrl);\r\n            productList.push(currentProduct);\r\n          });\r\n          console.log(productList);\r\n          console.log(productEntities);\r\n          resolve(productList);\r\n        });\r\n      } else {\r\n        reject('No Products in cart');\r\n      }\r\n    });\r\n  }\r\n\r\n  loadProductById(productIds: string){\r\n    return new Promise<any>((resolve, reject) => {\r\n      let product: Product;\r\n      this.productCollection.doc(productIds).valueChanges().subscribe(productEntity => {\r\n        const currentProduct = new Product().convertFromDTO(productEntity);\r\n        currentProduct.id = productIds;\r\n        this.loadProductImage(currentProduct.picture).then(imageUrl => currentProduct.picture = imageUrl);\r\n        product = currentProduct;\r\n        resolve(product);\r\n      });\r\n    });\r\n  }\r\n\r\n  loadProductsByOwnerId(owenerId: string){\r\n    return new Promise<any>((resolve, reject) => {\r\n      let productList: Product[] = [];\r\n      const queryCollection = this.firestore.collection('products', ref => ref.where('_ownerId', '==', owenerId));\r\n      queryCollection.valueChanges({idField: '_id'}).subscribe(productEntities => {\r\n        productList = [];\r\n        productEntities.forEach((value) => {\r\n          const currentProduct = new Product().convertFromDTO(value);\r\n          this.loadProductImage(currentProduct.picture).then(imageUrl => currentProduct.picture = imageUrl);\r\n          productList.push(currentProduct);\r\n        });\r\n        resolve(productList);\r\n      });\r\n    });\r\n  }\r\n\r\n  deleteProduct(product: Product){\r\n    return new Promise<any>((resolve, reject) => {\r\n      if (this.authService.getCurrentUserId() === product.ownerId){\r\n        this.productCollection.doc(product.id).delete().then(value => {\r\n          resolve(true);\r\n        });\r\n      } else {\r\n        reject(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  async loadProductImage(imagePath: string){\r\n    const ref = this.storage.ref(imagePath);\r\n    return new Promise<any>((resolve, reject) => {\r\n      ref.getDownloadURL().subscribe(url => {\r\n        resolve(url);\r\n      });\r\n    });\r\n  }\r\n}\r\n","import {Product, UnitTypeEnum} from '../product/product';\r\nimport {classToPlain, plainToClass} from 'class-transformer';\r\n\r\nexport class ProductOrder {\r\n  private _productId: string;\r\n  private _productOwnerId: string;\r\n  private _productAmount: number;\r\n  private _priceByEach: number;\r\n  private _product: Product;\r\n  id?: string;\r\n\r\n  constructor() {\r\n    this._productId = '-1';\r\n    this._productAmount = 0;\r\n    this._priceByEach = 0;\r\n    this._productOwnerId = '-1';\r\n  }\r\n\r\n  reduce() {\r\n    // @ts-ignore\r\n    if (this.product.unit === 1) {\r\n      if (this.productAmount > 0) {\r\n        this.productAmount -= 0.125;\r\n      } else {\r\n        this.productAmount = 0;\r\n      }\r\n    } else {\r\n      if (this.productAmount > 0) {\r\n        this.productAmount--;\r\n      } else {\r\n        this.productAmount = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  add() {\r\n    // @ts-ignore\r\n    if (this.product.unit === 1) {\r\n      this.productAmount += 0.125;\r\n    } else {\r\n      this.productAmount++;\r\n    }\r\n  }\r\n\r\n  convertToDTO() {\r\n    return classToPlain(this);\r\n  }\r\n\r\n  convertFromDTO(product) {\r\n    return plainToClass(ProductOrder, product);\r\n  }\r\n\r\n  get productAmount(): number {\r\n    return this._productAmount;\r\n  }\r\n\r\n  set productAmount(value: number) {\r\n    if (value > 0){\r\n      this._productAmount = value;\r\n    } else {\r\n      this._productAmount = 0;\r\n    }\r\n  }\r\n\r\n  get productId(): string {\r\n    return this._productId;\r\n  }\r\n\r\n  set productId(value: string) {\r\n    this._productId = value;\r\n  }\r\n\r\n  get priceByEach(): number {\r\n    return this._priceByEach;\r\n  }\r\n\r\n  set priceByEach(value: number) {\r\n    this._priceByEach = value;\r\n  }\r\n\r\n  get productOwnerId(): string {\r\n    return this._productOwnerId;\r\n  }\r\n\r\n  set productOwnerId(value: string) {\r\n    this._productOwnerId = value;\r\n  }\r\n\r\n  get product(): Product {\r\n    return this._product;\r\n  }\r\n\r\n  set product(value: Product) {\r\n    this._product = value;\r\n  }\r\n}\r\n","export default \"<div>\\r\\n  <form [formGroup]=\\\"registrationForm\\\" class=\\\"mx-auto\\\">\\r\\n    <div class=\\\"form-group\\\">\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\" type=\\\"text\\\">Email:</ion-label>\\r\\n        <ion-input\\r\\n          type=\\\"text\\\"\\r\\n          class=\\\"form-control\\\"\\r\\n          placeholder=\\\"miemail@mail.com\\\"\\r\\n          formControlName=\\\"email\\\"\\r\\n          id=\\\"emailInput\\\"></ion-input>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"floating\\\" type=\\\"text\\\">Contraseña:</ion-label>\\r\\n        <ion-input\\r\\n          type=\\\"password\\\"\\r\\n          name=\\\"password\\\"\\r\\n          autocomplete=\\\"on\\\"\\r\\n          class=\\\"form-control\\\"\\r\\n          formControlName=\\\"password\\\"\\r\\n          id=\\\"passwordInput\\\"\\r\\n          [type]=\\\"hide ? 'password' : 'text'\\\"></ion-input>\\r\\n      </ion-item>\\r\\n    </div>\\r\\n  </form>\\r\\n  <div class=\\\"d-flex justify-content-end\\\">\\r\\n    <ion-button class=\\\"d-flex justify-content-end btn btn-outline-primary m-2\\\" id=\\\"login\\\" (click)=\\\"logIn()\\\">Iniciar sesion</ion-button>\\r\\n  </div>\\r\\n</div>\\r\\n\";","export default \"<ion-app>\\r\\n  <ion-header>\\r\\n    <ion-toolbar class=\\\"ion-text-center\\\">\\r\\n      <img alt=\\\"logo\\\" height=\\\"29\\\" src=\\\"assets/logo.png\\\">\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  <ion-content>\\r\\n    <ion-router-outlet></ion-router-outlet>\\r\\n    <app-navigation-bar></app-navigation-bar>\\r\\n  </ion-content>\\r\\n</ion-app>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport {User} from '../../models/user/user.model';\r\nimport {UserRoles} from '../../models/user/user-roles.enum';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {Router} from '@angular/router';\r\nimport {AngularFirestore, AngularFirestoreCollection} from '@angular/fire/firestore';\r\nimport {AngularFireStorage} from '@angular/fire/storage';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfilesService {\r\n  private userCollection: AngularFirestoreCollection<unknown>;\r\n\r\n  constructor(public afAuth: AngularFireAuth, public router: Router, public firestore: AngularFirestore,\r\n              public storage: AngularFireStorage) {\r\n    this.userCollection = this.firestore.collection('profiles');\r\n  }\r\n\r\n  loadUserById(userId: string){\r\n    this.userCollection.doc(userId);\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.userCollection.doc(userId).valueChanges({idField: '_id'}).subscribe(userData => {\r\n        const realUser = new User().convertFromDTO(userData);\r\n        resolve(realUser);\r\n      });\r\n    });\r\n  }\r\n\r\n  getAllFarmers(){\r\n    const farmerCollection = this.firestore.collection('profiles', ref => ref.where('_role', '==', UserRoles.PRODUCER));\r\n    let farmerList = [];\r\n    return new Promise<any>((resolve, reject) => {\r\n      farmerCollection.valueChanges({idField: '_id'}).subscribe(farmerEntities => {\r\n        farmerList = [];\r\n        farmerEntities.forEach(currentUser => {\r\n          const realUser = new User().convertFromDTO(currentUser);\r\n          this.loadProfileImage(realUser.picture).then(imageUrl => realUser.picture = imageUrl);\r\n          farmerList.push(realUser);\r\n        });\r\n        resolve(farmerList);\r\n      });\r\n    });\r\n  }\r\n\r\n  async loadProfileImage(imagePath: string){\r\n    const ref = this.storage.ref(imagePath);\r\n    return new Promise<any>((resolve, reject) => {\r\n      ref.getDownloadURL().subscribe(url => {\r\n        resolve(url);\r\n      });\r\n    });\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzdGF0aXN0aWNzLnZpZXcuc2NzcyJ9 */\";","export default \"<ion-content>\\r\\n  <ion-list>\\r\\n    <ion-list-header>\\r\\n      Productores:\\r\\n    </ion-list-header>\\r\\n\\r\\n    <ion-item *ngFor=\\\"let user of profileList\\\">\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img [src]=\\\"user.picture\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-label>\\r\\n        <h2>{{user.name}}</h2>\\r\\n      </ion-label>\\r\\n      <ion-button type=\\\"button\\\" [routerLink]=\\\"'/profile/' + user.id\\\">\\r\\n        Abrir\\r\\n      </ion-button>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-content class=\\\"ion-padding\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row class=\\\"ion-align-items-end\\\">\\r\\n        <ion-avatar>\\r\\n          <img [src]=\\\"this.profileImage\\\">\\r\\n        </ion-avatar>\\r\\n        <ion-text class=\\\"ion-padding\\\">\\r\\n          <h2 class=\\\"ion-no-margin\\\">\\r\\n            {{this.user.name}}\\r\\n          </h2>\\r\\n        </ion-text>\\r\\n      <ion-button [color]=\\\"'danger'\\\" (click)=\\\"logout()\\\" *ngIf=\\\"loggedId\\\"\\r\\n                  [routerLink]=\\\"'/login'\\\" type=\\\"button\\\" class=\\\"btn btn-danger\\\">Cerrar sesión</ion-button>\\r\\n      <ion-button [routerLink]=\\\"['/products', 0, this.user.id]\\\">Productos</ion-button>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n  <div *ngIf=\\\"loggedId\\\">\\r\\n    <ion-list href=\\\"mailto:agrari.food@gmail.com\\\" (click)=\\\"window.open('mailto:agrari.food@gmail.com')\\\">\\r\\n      <ion-item>\\r\\n        <ion-icon name=\\\"help-circle-outline\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-label>\\r\\n          ¿Necesitas ayuda? Mandanos un email a:\\r\\n          <br>\\r\\n          agrari.food@gmail.com\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { RouteReuseStrategy } from '@angular/router';\r\n\r\nimport { IonicModule, IonicRouteStrategy } from '@ionic/angular';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport {AngularFireModule} from '@angular/fire';\r\nimport {environment} from '../environments/environment.prod';\r\nimport {AngularFireAnalyticsModule} from '@angular/fire/analytics';\r\nimport {AngularFirestoreModule} from '@angular/fire/firestore';\r\nimport {CommonModule, HashLocationStrategy, LocationStrategy} from '@angular/common';\r\nimport {LoginUserComponent} from '../components/login-user/login-user.component';\r\nimport {LoginView} from '../views/login/login.view';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {RegisterUserComponent} from '../components/register-user/register-user.component';\r\nimport {NavigationBarComponent} from '../components/navigation-bar/navigation-bar.component';\r\nimport {AngularFireStorageModule} from '@angular/fire/storage';\r\nimport {ProfileView} from '../views/profile/profile.view';\r\nimport {ProductFormComponent} from '../views/product-form/product-form.component';\r\nimport {EnumToArrayPipe} from '../pipes/enum-to-array.pipe';\r\nimport {ProductView} from '../views/product/product.view';\r\nimport {ProductsView} from '../views/product-list/products.view';\r\nimport {ProfileListView} from '../views/profile-list/profile-list.view';\r\nimport {CartView} from '../views/cart/cart.view';\r\nimport {CartItemComponent} from '../components/cart-item/cart-item.component';\r\nimport {OrderListView} from '../views/order-list/order-list.view';\r\nimport {OrderItemComponent} from '../components/order-item/order-item.component';\r\nimport {StatisticsView} from '../views/statistics/statistics.view';\r\nimport {ProductListComponent} from '../components/product-list/product-list.component';\r\n\r\n@NgModule({\r\n    declarations: [AppComponent,\r\n        /*  VIEWS */\r\n        LoginView,\r\n        ProfileView,\r\n        ProductView,\r\n        ProductsView,\r\n        CartView,\r\n        OrderListView,\r\n        StatisticsView,\r\n\r\n        /* COMPONENTS */\r\n        RegisterUserComponent,\r\n        NavigationBarComponent,\r\n        ProductFormComponent,\r\n        ProfileListView,\r\n        LoginUserComponent, CartItemComponent, OrderItemComponent, ProductListComponent],\r\n  entryComponents: [],\r\n  imports: [CommonModule,\r\n    BrowserModule,\r\n    IonicModule.forRoot(),\r\n    AppRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    AngularFireModule.initializeApp(environment.firebaseConfig),\r\n    AngularFirestoreModule,\r\n    AngularFireStorageModule],\r\n  providers: [{ provide: LocationStrategy, useClass: HashLocationStrategy },\r\n    EnumToArrayPipe,\r\n    { provide: Window, useValue: window }],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJuYXZpZ2F0aW9uLWJhci5jb21wb25lbnQuc2NzcyJ9 */\";","import {formatDate} from '@angular/common';\r\nimport {Product} from '../product/product';\r\nimport {classToPlain, plainToClass} from 'class-transformer';\r\nimport {UserRoles} from './user-roles.enum';\r\n\r\nexport class User {\r\n  private _id?: string;\r\n  private _email: string;\r\n  private _phoneNumber?: string;\r\n  private _name: string;\r\n  private _picture?: string;\r\n  private _location: string;\r\n  private _balance: number;\r\n  private _lastSession: number;\r\n  private _role: UserRoles;\r\n\r\n  constructor() {\r\n    this.lastSession = Date.now();\r\n    this.email = '';\r\n    this.name = '';\r\n    this.picture = '';\r\n    this.location = '';\r\n    this.balance = 0;\r\n  }\r\n\r\n  getCurrentDate(): string{\r\n    return formatDate(this.lastSession, 'yyyy-MM-dd', 'es-ES');\r\n  }\r\n\r\n  get id(): string {\r\n    return this._id;\r\n  }\r\n\r\n  set id(value: string) {\r\n    this._id = value;\r\n  }\r\n\r\n  get email(): string {\r\n    return this._email;\r\n  }\r\n\r\n  set email(value: string) {\r\n    this._email = value;\r\n  }\r\n\r\n  get phoneNumber(): string {\r\n    return this._phoneNumber;\r\n  }\r\n\r\n  set phoneNumber(value: string) {\r\n    this._phoneNumber = value;\r\n  }\r\n\r\n  get name(): string {\r\n    return this._name;\r\n  }\r\n\r\n  set name(value: string) {\r\n    this._name = value;\r\n  }\r\n\r\n  get picture(): string {\r\n    return this._picture;\r\n  }\r\n\r\n  set picture(value: string) {\r\n    this._picture = value;\r\n  }\r\n\r\n  get location(): string {\r\n    return this._location;\r\n  }\r\n\r\n  set location(value: string) {\r\n    this._location = value;\r\n  }\r\n\r\n  get balance(): number {\r\n    return this._balance;\r\n  }\r\n\r\n  set balance(value: number) {\r\n    this._balance = value;\r\n  }\r\n\r\n  get role(): UserRoles {\r\n    return this._role;\r\n  }\r\n\r\n  set role(value: UserRoles) {\r\n    this._role = value;\r\n  }\r\n\r\n  get lastSession(): number {\r\n    return this._lastSession;\r\n  }\r\n\r\n  set lastSession(value: number) {\r\n    this._lastSession = value;\r\n  }\r\n\r\n  convertToDTO() {\r\n    return classToPlain(this);\r\n  }\r\n\r\n  convertFromDTO(userData) {\r\n    return plainToClass(User, userData);\r\n  }\r\n}\r\n","import {Component, OnInit} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {AngularFirestore, AngularFirestoreCollection} from '@angular/fire/firestore';\r\nimport {Router} from '@angular/router';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {User} from '../../models/user/user.model';\r\nimport {Camera, CameraResultType, CameraSource} from '@capacitor/core';\r\nimport {UserRoles} from '../../models/user/user-roles.enum';\r\nimport {AngularFireStorage, AngularFireUploadTask} from '@angular/fire/storage';\r\n\r\n@Component({\r\n  selector: 'app-register-user',\r\n  templateUrl: './register-user.component.html',\r\n  styleUrls: ['./register-user.component.sass']\r\n})\r\nexport class RegisterUserComponent implements OnInit {\r\n  private userProfileCollection: AngularFirestoreCollection;\r\n  public registrationForm: FormGroup;\r\n  public profilePicture: string;\r\n\r\n  constructor(private formBuilder: FormBuilder, public firestore: AngularFirestore, private router: Router,\r\n              public fireauth: AngularFireAuth, private storage: AngularFireStorage) {\r\n    this.userProfileCollection = firestore.collection('profiles');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registrationForm = this.formBuilder.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      name: ['', [Validators.required]],\r\n      password: ['', [Validators.required]],\r\n      phoneNumber: ['', []],\r\n      picture: ['', [Validators.required]],\r\n      location: ['', [Validators.required]],\r\n      isFarmer: ['', []],\r\n    });\r\n  }\r\n\r\n  registerUser(): void {\r\n    if (this.registrationForm.valid) {\r\n      const userToCreate: User = new User();\r\n      userToCreate.name = this.registrationForm.value.name;\r\n      userToCreate.email = this.registrationForm.value.email;\r\n      userToCreate.location = this.registrationForm.value.location;\r\n      userToCreate.phoneNumber = this.registrationForm.value.phoneNumber;\r\n      userToCreate.role = this.registrationForm.value.isFarmer ? UserRoles.PRODUCER : UserRoles.USER;\r\n\r\n      this.fireauth.createUserWithEmailAndPassword(userToCreate.email, this.registrationForm.value.password)\r\n        .then((user) => {\r\n          this.uploadPictureToProfile(this.profilePicture, user.user.uid).then(\r\n            a => {\r\n              userToCreate.picture = this.registrationForm.value.picture;\r\n              user.user.updateProfile({photoURL: userToCreate.picture});\r\n              this.userProfileCollection.doc(user.user.uid)\r\n                .set(userToCreate.convertToDTO())\r\n                .catch(error => {\r\n                  console.log('Something went wrong with added user to firestore: ', error);\r\n                }).then(value => this.changeView(user.user.uid));\r\n            }\r\n          );\r\n        });\r\n    } else {\r\n      this.registrationForm.markAllAsTouched();\r\n    }\r\n  }\r\n\r\n  changeView(uid: string): void {\r\n    this.router.navigate(['profile', uid]);\r\n  }\r\n\r\n  uploadPictureToProfile(picture: any, userID: string): AngularFireUploadTask {\r\n    const file = picture;\r\n    const filePath = '/userProfilePics/' + userID + '/' + 'myPicture.png';\r\n    this.registrationForm.value.picture = filePath;\r\n    const ref = this.storage.ref(filePath);\r\n    return ref.putString(file, 'base64');\r\n  }\r\n\r\n  async takePicture() {\r\n    await Camera.getPhoto({\r\n      quality: 50,\r\n      allowEditing: true,\r\n      resultType: CameraResultType.Base64,\r\n      webUseInput: true,\r\n      source: CameraSource.Prompt\r\n    }).then(value => {\r\n      this.registrationForm.value.picture = 'Foto cargada';\r\n      this.profilePicture = value.base64String;\r\n      });\r\n  }\r\n}\r\n","export default \"<ion-content>\\r\\n  <app-cart-item *ngFor=\\\"let product of cart\\\" [product]=\\\"product\\\" (productEvent)=\\\"cartItemEvent($event)\\\"></app-cart-item>\\r\\n  <ion-button *ngIf=\\\"cart.length > 0\\\" (click)=\\\"checkout()\\\">\\r\\n    Comprar\\r\\n  </ion-button>\\r\\n  <ion-text *ngIf=\\\"cart.length <= 0\\\" class=\\\"ion-margin\\\">\\r\\n    Tu carrito esta vacio, añade un producto para comprar.\\r\\n  </ion-text>\\r\\n</ion-content>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvcmRlci1pdGVtLmNvbXBvbmVudC5zY3NzIn0= */\";","export const environment = {\r\n  production: true,\r\n  firebaseConfig: {\r\n    apiKey: 'AIzaSyDRGAlsyTrq3FLLBXVjQknxiDzRETFsk6U',\r\n    authDomain: 'imposoft-tfg-main.firebaseapp.com',\r\n    databaseURL: 'https://imposoft-tfg-main.firebaseio.com',\r\n    projectId: 'imposoft-tfg-main',\r\n    storageBucket: 'imposoft-tfg-main.appspot.com',\r\n    messagingSenderId: '153205354284',\r\n    appId: '1:153205354284:web:5fe3df85962f94a3fe0689',\r\n    measurementId: 'G-KWJ0HMHZNQ'\r\n  }\r\n};\r\n","import {ProductOrder} from './product-order';\r\nimport {Order} from '../order/order';\r\nimport {Product} from '../product/product';\r\n\r\nexport class Cart {\r\n  id: string;\r\n  ordersList: Order[];\r\n\r\n  constructor() {\r\n    this.ordersList = [];\r\n  }\r\n\r\n  getAllIds() {\r\n    return [];\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9maWxlLWxpc3Qudmlldy5zY3NzIn0= */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvcmRlci1saXN0LnZpZXcuc2NzcyJ9 */\";","export default \"<ion-content class=\\\"ion-padding\\\">\\r\\n  <ion-grid>\\r\\n    <ion-row class=\\\"ion-align-items-end\\\">\\r\\n      <ion-col size=\\\"3\\\">\\r\\n        <ion-img [src]=\\\"this.product.picture\\\"></ion-img>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"9\\\">\\r\\n        <ion-text class=\\\"ion-padding\\\">\\r\\n          <h2 class=\\\"ion-no-margin\\\">\\r\\n            {{this.product.name}}\\r\\n            {{this.product.description}}\\r\\n          </h2>\\r\\n          <ion-button type=\\\"button\\\" *ngIf=\\\"isOwner\\\" [routerLink]=\\\"'/productForm/' + product.id\\\">\\r\\n            Modificar\\r\\n          </ion-button>\\r\\n        </ion-text>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <div *ngIf=\\\"!isOwner\\\">\\r\\n      <ion-row style=\\\"width: fit-content\\\">\\r\\n        <ion-button type=\\\"button\\\" [color]=\\\"'danger'\\\" (click)=\\\"productOrder.reduce()\\\">-</ion-button>\\r\\n        <ion-input type=\\\"number\\\" readonly=\\\"true\\\" [value]=\\\"productOrder.productAmount\\\" style=\\\"width: 50px\\\"[min]=\\\"0\\\"></ion-input>\\r\\n        <ion-button type=\\\"button\\\" [color]=\\\"'success'\\\" (click)=\\\"productOrder.add()\\\">+</ion-button>\\r\\n      </ion-row>\\r\\n      {{productOrder.productAmount * productOrder.priceByEach | currency:'EUR'}}\\r\\n      <ion-button type=\\\"button\\\" (click)=\\\"addToCart()\\\">\\r\\n        <ion-icon name=\\\"bag-add-outline\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </div>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\";","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t\"dUtr\",\n\t\t\"common\",\n\t\t0\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t\"Q8AI\",\n\t\t\"common\",\n\t\t1\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t\"hgI1\",\n\t\t\"common\",\n\t\t2\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t\"CfoV\",\n\t\t\"common\",\n\t\t3\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t\"Nt02\",\n\t\t\"common\",\n\t\t4\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t\"Q2Bp\",\n\t\t5\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t\"0Pbj\",\n\t\t\"common\",\n\t\t6\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t\"ydQj\",\n\t\t\"common\",\n\t\t7\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t\"4fMi\",\n\t\t\"common\",\n\t\t8\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t\"czK9\",\n\t\t\"common\",\n\t\t9\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t\"/CAe\",\n\t\t10\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t\"WgF3\",\n\t\t\"common\",\n\t\t11\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t\"uQcF\",\n\t\t\"common\",\n\t\t12\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t\"wHD8\",\n\t\t13\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t\"2lz6\",\n\t\t14\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t\"ercB\",\n\t\t\"common\",\n\t\t15\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t\"MGMP\",\n\t\t\"common\",\n\t\t16\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t\"9bur\",\n\t\t\"common\",\n\t\t17\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t\"cABk\",\n\t\t\"common\",\n\t\t18\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t\"kyFE\",\n\t\t\"common\",\n\t\t19\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t\"TvZU\",\n\t\t\"common\",\n\t\t20\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t\"vnES\",\n\t\t\"common\",\n\t\t21\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t\"qCuA\",\n\t\t\"common\",\n\t\t22\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t\"0tOe\",\n\t\t\"common\",\n\t\t23\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t\"h11V\",\n\t\t\"common\",\n\t\t24\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t\"XGij\",\n\t\t\"common\",\n\t\t25\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t\"nYbb\",\n\t\t\"common\",\n\t\t26\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t\"smMY\",\n\t\t\"common\",\n\t\t27\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t\"STjf\",\n\t\t28\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t\"k5eQ\",\n\t\t\"common\",\n\t\t29\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t\"OR5t\",\n\t\t\"common\",\n\t\t30\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t\"fSgp\",\n\t\t\"common\",\n\t\t31\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t\"lfGF\",\n\t\t\"common\",\n\t\t32\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t\"5xYT\",\n\t\t33\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t\"nI0H\",\n\t\t\"common\",\n\t\t34\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t\"NAQR\",\n\t\t35\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t\"knkW\",\n\t\t\"common\",\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t\"TpdJ\",\n\t\t\"common\",\n\t\t37\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t\"ISmu\",\n\t\t\"common\",\n\t\t38\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t\"U7LX\",\n\t\t\"common\",\n\t\t39\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t\"L3sA\",\n\t\t\"common\",\n\t\t40\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t\"IUOf\",\n\t\t\"common\",\n\t\t41\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t\"8Mb5\",\n\t\t42\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"kLfG\";\nmodule.exports = webpackAsyncContext;","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'enumToArray'\r\n})\r\nexport class EnumToArrayPipe implements PipeTransform {\r\n  transform(data: Object) {\r\n    const keys = Object.keys(data);\r\n    return keys;\r\n  }\r\n}\r\n","export default \"<ion-card>\\r\\n  <ion-card-header>\\r\\n    <ion-card-title *ngIf=\\\"isFarmer\\\">\\r\\n      Pedido de: {{orderUser.name}}\\r\\n    </ion-card-title>\\r\\n    <ion-card-subtitle>\\r\\n      Fecha: {{order.creationDate.seconds * 1000 | date:'yyyy/MM/dd h:mm:ss a'}}\\r\\n    </ion-card-subtitle>\\r\\n  </ion-card-header>\\r\\n  <ion-card-content style=\\\"padding-bottom: 0px !important;\\\">\\r\\n    <ion-label>\\r\\n      Productos pedidos:\\r\\n    </ion-label>\\r\\n    <ion-list>\\r\\n      <ion-item *ngFor=\\\"let product of order.orderedItems\\\"> {{product?.product?.name}} x {{product.productAmount}} </ion-item>\\r\\n      <!-- <div *ngFor=\\\"let product of order.orderedItems\\\"> {{product.product.name}}</div>-->\\r\\n    </ion-list>\\r\\n  </ion-card-content>\\r\\n  <ion-row>\\r\\n    <ion-col class=\\\"ion-padding-bottom\\\">\\r\\n      <div>Precio final: {{finalPrice | currency:'EUR'}}</div>\\r\\n\\r\\n      <div *ngIf=\\\"order.status == 'Preparado'\\\">✔️Pedido preparado | Recogida el DD/MM a partir de las HH:MM en UPV?</div>\\r\\n      <div *ngIf=\\\"order.status == 'Cancelado'\\\">❌️Pedido cancelado</div>\\r\\n      <div *ngIf=\\\"order.status == 'Entregado'\\\">📦 Pedido entregado</div>\\r\\n      <!-- Farmer Options -->\\r\\n      <div *ngIf=\\\"isFarmer\\\">\\r\\n        <ion-button *ngIf=\\\"order.status !== 'Preparado' && order.status !== 'Cancelado' && order.status !== 'Entregado'\\\" (click)=\\\"prepareOrder()\\\">Marcar como preparado</ion-button>\\r\\n        <ion-button *ngIf=\\\"order.status == 'Preparado'\\\" (click)=\\\"deliveredOrder()\\\">Marcar como entregado</ion-button>\\r\\n        <ion-button *ngIf=\\\"order.status !== 'Cancelado' && order.status !== 'Entregado'\\\" (click)=\\\"cancelOrder()\\\">Cancelar</ion-button>\\r\\n      </div>\\r\\n      <!-- User Options -->\\r\\n      <div *ngIf=\\\"!isFarmer\\\">\\r\\n        <ion-button *ngIf=\\\"order.status !== 'Cancelado' && order.status !=='Preparado' && order.status !== 'Entregado'\\\" (click)=\\\"cancelOrder()\\\">Cancelar</ion-button>\\r\\n      </div>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-card>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi11c2VyLmNvbXBvbmVudC5zYXNzIn0= */\";","export default \"<ion-content fullscreen>\\r\\n  <ion-card>\\r\\n    <ion-card-header>\\r\\n      <ion-card-title *ngIf=\\\"isLogin\\\">Iniciar Sesión</ion-card-title>\\r\\n      <ion-card-title *ngIf=\\\"!isLogin\\\">Registrarse</ion-card-title>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>\\r\\n      <app-login-user *ngIf=\\\"isLogin\\\"></app-login-user>\\r\\n      <app-register-user *ngIf=\\\"!isLogin\\\"></app-register-user>\\r\\n    </ion-card-content>\\r\\n    <ion-button fill=\\\"clear\\\" size=\\\"small\\\" *ngIf=\\\"isLogin\\\" (click)=\\\"isLogin=!isLogin\\\">\\r\\n      ¿No tienes cuenta? ¡Create una!\\r\\n    </ion-button>\\r\\n    <ion-button fill=\\\"clear\\\" size=\\\"small\\\" *ngIf=\\\"!isLogin\\\" (click)=\\\"isLogin=!isLogin\\\" >\\r\\n      ¿Ya tienes cuenta? ¡Inicia sesion!\\r\\n    </ion-button>\\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n\";","export default \"<ion-content fullscreen>\\r\\n  <form [formGroup]=\\\"productForm\\\" (submit)=\\\"updateProduct()\\\">\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\" type=\\\"text\\\">Nombre del producto</ion-label>\\r\\n      <ion-input formControlName=\\\"name\\\" placeholder=\\\"Patata\\\" [value]=\\\"product.name\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\" type=\\\"text\\\">Descripcion</ion-label>\\r\\n      <ion-input formControlName=\\\"description\\\" placeholder=\\\"La mas fuerte del campo\\\" [value]=\\\"product.description\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\" type=\\\"number\\\">Precio €</ion-label>\\r\\n      <ion-input formControlName=\\\"price\\\" placeholder=\\\"10\\\" type=\\\"number\\\" [value]=\\\"product.price\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Tipo de Unidad</ion-label>\\r\\n      <ion-select value=\\\"0\\\" interface=\\\"popover\\\" formControlName=\\\"unit\\\" [value]=\\\"product.unit\\\">\\r\\n        <ion-select-option *ngFor=\\\"let unit of optionslist; let i = index\\\" [value]=\\\"i\\\"> {{unit}} </ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label>Categoria</ion-label>\\r\\n      <ion-select value=\\\"0\\\" interface=\\\"popover\\\" formControlName=\\\"category\\\" [value]=\\\"product.category\\\">\\r\\n        <ion-select-option *ngFor=\\\"let category of categorylist; let i = index\\\" [value]=\\\"i\\\"> {{category}} </ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"stacked\\\" type=\\\"file\\\">Foto</ion-label>\\r\\n      <ion-input (click)=\\\"takePicture()\\\" readonly formControlName=\\\"picture\\\" [value]=\\\"product.picture\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item >\\r\\n      <ion-checkbox slot=\\\"start\\\" formControlName=\\\"stock\\\" [checked]=\\\"product.stock\\\" [value]=\\\"'off'\\\"></ion-checkbox>\\r\\n      <ion-label>En stock</ion-label>\\r\\n    </ion-item>\\r\\n  </form>\\r\\n  <ion-row class=\\\"cardfooter\\\">\\r\\n    <ion-col>\\r\\n      <ion-button *ngIf=\\\"!product.id\\\" class=\\\"ion-float-right\\\" (click)=\\\"createProduct()\\\" type=\\\"button\\\">\\r\\n        <div>Crear</div>\\r\\n      </ion-button>\\r\\n      <ion-button *ngIf=\\\"product.id\\\" class=\\\"ion-float-right\\\" (click)=\\\"updateProduct()\\\" type=\\\"button\\\">\\r\\n        <div *ngIf=\\\"product.id\\\">Modificar</div>\\r\\n      </ion-button>\\r\\n      <ion-button *ngIf=\\\"product.id\\\" class=\\\"ion-float-right\\\" (click)=\\\"deleteProduct()\\\" type=\\\"button\\\" color=\\\"danger\\\">\\r\\n        <div *ngIf=\\\"product.id\\\">Eliminar</div>\\r\\n      </ion-button>\\r\\n    </ion-col>\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\";","import {classToPlain, plainToClass} from 'class-transformer';\r\n\r\nexport class Product {\r\n  private _id?: string;\r\n  private _name: string;\r\n  private _description: string;\r\n  private _price: number;\r\n  private _picture?: string;\r\n  private _unit: UnitTypeEnum;\r\n  private _color?: string;\r\n  private _stock: boolean;\r\n  private _ownerId: string;\r\n  private _category?: CategoryEnum;\r\n\r\n  constructor() {\r\n    this._name = '';\r\n    this._description = '';\r\n    this._price = -1;\r\n    this._unit = UnitTypeEnum.Kilogramo;\r\n    this._stock = true;\r\n  }\r\n\r\n  get id(): string {\r\n    return this._id;\r\n  }\r\n\r\n  set id(value: string) {\r\n    this._id = value;\r\n  }\r\n\r\n  get name(): string {\r\n    return this._name;\r\n  }\r\n\r\n  set name(value: string) {\r\n    this._name = value;\r\n  }\r\n\r\n  get description(): string {\r\n    return this._description;\r\n  }\r\n\r\n  set description(value: string) {\r\n    this._description = value;\r\n  }\r\n\r\n  get price(): number {\r\n    return this._price;\r\n  }\r\n\r\n  set price(value: number) {\r\n    this._price = value;\r\n  }\r\n\r\n  get picture(): string {\r\n    return this._picture;\r\n  }\r\n\r\n  set picture(value: string) {\r\n    this._picture = value;\r\n  }\r\n\r\n  get unit(): UnitTypeEnum {\r\n    return this._unit;\r\n  }\r\n\r\n  set unit(value: UnitTypeEnum) {\r\n    this._unit = value;\r\n  }\r\n\r\n  get color(): string {\r\n    return this._color;\r\n  }\r\n\r\n  set color(value: string) {\r\n    this._color = value;\r\n  }\r\n\r\n  get stock(): boolean {\r\n    return this._stock;\r\n  }\r\n\r\n  set stock(value: boolean) {\r\n    this._stock = value;\r\n  }\r\n\r\n  get ownerId(): string {\r\n    return this._ownerId;\r\n  }\r\n\r\n  set ownerId(value: string) {\r\n    this._ownerId = value;\r\n  }\r\n\r\n  get category(): CategoryEnum {\r\n    return this._category;\r\n  }\r\n\r\n  set category(value: CategoryEnum) {\r\n    this._category = value;\r\n  }\r\n\r\n  convertToDTO() {\r\n    return classToPlain(this);\r\n  }\r\n\r\n  convertFromDTO(product) {\r\n    return plainToClass(Product, product);\r\n  }\r\n}\r\n\r\nexport enum UnitTypeEnum {\r\n  Manojo = 'Manojo',\r\n  Kilogramo = 'Kilogramo',\r\n  Unidad = 'Unidad'\r\n}\r\n\r\nexport enum CategoryEnum {\r\n  Fruta = 'Fruta',\r\n  Verdura = ' Verdura',\r\n  Legumbres = 'Legumbres',\r\n  Panaderia = 'Panaderia',\r\n  Lacteos = 'Lacteos',\r\n  Huevos = 'Huevos',\r\n  Miel = 'Miel',\r\n  Otros = 'Otros'\r\n}\r\n","export default \"<ion-item>\\r\\n  <ion-label>\\r\\n    {{product.product.name}} x{{product.productAmount}}\\r\\n  </ion-label>\\r\\n  <ion-button type=\\\"button\\\" [color]=\\\"'danger'\\\" (click)=\\\"product.reduce()\\\">-</ion-button>\\r\\n  <ion-button type=\\\"button\\\" [color]=\\\"'success'\\\" (click)=\\\"product.add()\\\">+</ion-button>\\r\\n  <ion-button (click)=\\\"removeFromCart()\\\">\\r\\n    <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\r\\n  </ion-button>\\r\\n</ion-item>\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kdWN0LWxpc3QuY29tcG9uZW50LnNjc3MifQ== */\";","import { Injectable } from '@angular/core';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {AngularFirestore, AngularFirestoreCollection} from '@angular/fire/firestore';\r\nimport {AngularFireStorage} from '@angular/fire/storage';\r\nimport {ProductOrder} from '../../models/cart/product-order';\r\nimport {Cart} from '../../models/cart/cart';\r\nimport {Order, OrderStatusEnum} from '../../models/order/order';\r\nimport {OrderItem} from '../../models/order/order-item';\r\nimport {ProductService} from '../products/product.service';\r\nimport {classToPlain} from 'class-transformer';\r\nimport {Product} from '../../models/product/product';\r\nimport {valueReferenceToExpression} from '@angular/compiler-cli/src/ngtsc/annotations/src/util';\r\nimport {AuthServiceService} from '../auth/auth-service.service';\r\nimport {log} from 'util';\r\nimport {Stats, StatsProductOrders} from '../../models/statistics/stats';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class OrderService {\r\n  private orderCollection: AngularFirestoreCollection<unknown>;\r\n\r\n  constructor(public afAuth: AngularFireAuth, public firestore: AngularFirestore, public storage: AngularFireStorage,\r\n              public productService: ProductService, public authService: AuthServiceService) {\r\n    this.orderCollection = this.firestore.collection('orders');\r\n  }\r\n\r\n  createOrderEntity(order: Order): any {\r\n    const orderEntity = classToPlain(order);\r\n    orderEntity._orderedItems.forEach(product => {\r\n      delete product._product;\r\n    });\r\n    return orderEntity;\r\n  }\r\n\r\n  loadAllOrders(){\r\n    let orderList: Order[] = [];\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.orderCollection.valueChanges({idField: '_id'}).subscribe(orderEntities => {\r\n        orderList = [];\r\n        orderEntities.forEach((orderEntity) => {\r\n          const orderModel = new Order().convertFromDTO(orderEntity);\r\n          orderModel.orderedItems.forEach((product, index) => {\r\n            this.productService.loadProductById(product.productId).then(value => {\r\n              orderModel.orderedItems[index].product = value;\r\n            });\r\n          });\r\n          orderList.push(orderModel);\r\n        });\r\n        resolve(orderList);\r\n      });\r\n    });\r\n  }\r\n\r\n  loadAllOrdersOfCurrentUser(){\r\n    let orderList: Order[] = [];\r\n    let orderCollection;\r\n    if (this.authService.getIsFarmer()){\r\n      orderCollection = this.firestore.collection('orders', ref => ref.where('_ownerId', '==', this.authService.getCurrentUserId()));\r\n    } else {\r\n      orderCollection = this.firestore.collection('orders', ref => ref.where('_userId', '==', this.authService.getCurrentUserId()));\r\n    }\r\n\r\n    return new Promise<Order[]>((resolve, reject) => {\r\n      orderCollection.valueChanges({idField: '_id'}).subscribe(orderEntities => {\r\n        orderList = [];\r\n        orderEntities.forEach((orderEntity) => {\r\n          const orderModel = new Order().convertFromDTO(orderEntity);\r\n          orderModel.orderedItems.forEach((product, index) => {\r\n            this.productService.loadProductById(product.productId).then(value => {\r\n              orderModel.orderedItems[index].product = value;\r\n            });\r\n          });\r\n          orderList.push(orderModel);\r\n        });\r\n        resolve(orderList);\r\n      });\r\n    });\r\n  }\r\n\r\n  loadUserSalesRecord() {\r\n    const currentStats = new Stats();\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.loadAllOrdersOfCurrentUser().then(orderList => {\r\n        currentStats.totalOrders = orderList.length;\r\n        orderList.forEach(order => {\r\n          order.orderedItems.forEach(product => {\r\n            console.log(product);\r\n            currentStats.totalSaleAmount += product.priceByEach * product.productAmount;\r\n            let productStats = currentStats.productsOrdered.find(x => x.productId === product.productId);\r\n            // Todo map product to get the id and name\r\n            if (productStats){\r\n              productStats.productId = product.productId;\r\n              productStats.productAmount += product.productAmount;\r\n            } else {\r\n              productStats = new StatsProductOrders();\r\n              productStats.productId = product.productId;\r\n              productStats.productAmount += product.productAmount;\r\n              currentStats.productsOrdered.push(productStats);\r\n            }\r\n          });\r\n        });\r\n        currentStats.productsOrdered.forEach(value => {\r\n          this.productService.loadProductById(value.productId).then(productEntity => {\r\n            value.name = productEntity._name;\r\n          });\r\n        });\r\n        resolve(currentStats);\r\n      });\r\n    });\r\n  }\r\n\r\n  cancelOrderById(orderId: string){\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.orderCollection.doc(orderId).update({_status: OrderStatusEnum.Cancelado}).then(r => {\r\n        resolve(true);\r\n      });\r\n    });\r\n  }\r\n\r\n  markOrderAsPreparedById(orderId: string) {\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.orderCollection.doc(orderId).update({_status: OrderStatusEnum.Preparado}).then(r => {\r\n        resolve(true);\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  markOrderAsDeliveredById(orderId: string) {\r\n    return new Promise<any>((resolve, reject) => {\r\n      this.orderCollection.doc(orderId).update({_status: OrderStatusEnum.Entregado}).then(r => {\r\n        resolve(true);\r\n      });\r\n    });\r\n  }\r\n\r\n  async loadProductImage(imagePath: string){\r\n    const ref = this.storage.ref(imagePath);\r\n    return new Promise<any>((resolve, reject) => {\r\n      ref.getDownloadURL().subscribe(url => {\r\n        resolve(url);\r\n      });\r\n    });\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3Rlci11c2VyLmNvbXBvbmVudC5zYXNzIn0= */\";","import {Injectable, OnDestroy} from '@angular/core';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {Router} from '@angular/router';\r\nimport {AngularFirestore, AngularFirestoreDocument} from '@angular/fire/firestore';\r\nimport {User} from '../../models/user/user.model';\r\nimport {UserRoles} from '../../models/user/user-roles.enum';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthServiceService implements OnDestroy{\r\n  private isLogged: boolean;\r\n  private userCollection: AngularFirestoreDocument<unknown>;\r\n  private isFarmer: boolean;\r\n  private userId: string;\r\n\r\n  constructor(public afAuth: AngularFireAuth, public router: Router, public firestore: AngularFirestore) {\r\n    this.afAuth.authState.subscribe(user => {\r\n      if (user) {\r\n        this.userId = user.uid;\r\n        this.isLogged = true;\r\n        this.userCollection = firestore.doc('profiles/' + user.uid);\r\n        this.userCollection.valueChanges().subscribe(userData => {\r\n          console.log(userData);\r\n          const realUser = new User().convertFromDTO(userData);\r\n          this.isFarmer = realUser.role === UserRoles.PRODUCER;\r\n        });\r\n      } else {\r\n        this.isLogged = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  getCurrentUserId(){\r\n    return this.userId ? this.userId : 'test';\r\n  }\r\n\r\n  getIsFarmer(){\r\n    return this.isFarmer;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Subject} from 'rxjs';\r\nimport {debounceTime} from 'rxjs/operators';\r\nimport {ToastController} from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-login-user',\r\n  templateUrl: './login-user.component.html',\r\n  styleUrls: ['./login-user.component.sass']\r\n})\r\nexport class LoginUserComponent implements OnInit {\r\n  registrationForm: FormGroup;\r\n  private _error = new Subject<string>();\r\n  public errorMessage = '';\r\n  hide = true;\r\n\r\n  constructor(private fb: FormBuilder, public auth: AngularFireAuth, private router: Router, private route: ActivatedRoute,\r\n              public toastController: ToastController) { }\r\n\r\n  async presentToast() {\r\n    const toast = await this.toastController.create({\r\n      message: 'Error al iniciar sesion. Email y/o contraseña incorrecto/s.',\r\n      duration: 2000,\r\n      color: 'danger'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.registrationForm = this.fb.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', Validators.required],\r\n    });\r\n\r\n    this._error.subscribe(message => this.errorMessage = message);\r\n    this._error.pipe(\r\n      debounceTime(3500)\r\n    ).subscribe(() => this.errorMessage = '');\r\n  }\r\n\r\n  logIn(): void {\r\n    this.auth\r\n      .signInWithEmailAndPassword(this.registrationForm.value.email, this.registrationForm.value.password)\r\n      .then(value => {\r\n        this.changeView(value.user.uid);\r\n      })\r\n      .catch(err => {\r\n        console.log('Something went wrong:', err.message);\r\n        this.presentToast();\r\n        this._error.next('Error al iniciar sesion. Email y/o contraseña incorrecto/s ');\r\n      });\r\n  }\r\n\r\n  changeView(uid: string): void {\r\n    this.router.navigate(['profile', uid]);\r\n  }\r\n\r\n  toggleFieldTextType(): void {\r\n    this.hide = !this.hide;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { PreloadAllModules, RouterModule, Routes } from '@angular/router';\r\nimport {LoginView} from '../views/login/login.view';\r\nimport {ProfileView} from '../views/profile/profile.view';\r\nimport {ProductFormComponent} from '../views/product-form/product-form.component';\r\nimport {ProductView} from '../views/product/product.view';\r\nimport {ProductsView} from '../views/product-list/products.view';\r\nimport {ProfileListView} from '../views/profile-list/profile-list.view';\r\nimport {CartView} from '../views/cart/cart.view';\r\nimport {OrderListView} from '../views/order-list/order-list.view';\r\nimport {StatisticsView} from '../views/statistics/statistics.view';\r\n\r\nconst routes: Routes = [\r\n  {path: '', redirectTo: '/login', pathMatch: 'full'},\r\n  {path: 'login', component: LoginView},\r\n  {path: 'profile', component: ProfileView},\r\n  {path: 'profile/:id', component: ProfileView},\r\n  {path: 'profiles', component: ProfileListView},\r\n  {path: 'profiles/:isFarmer', component: ProfileListView},\r\n  {path: 'productForm', component: ProductFormComponent},\r\n  {path: 'productForm/:id', component: ProductFormComponent},\r\n  {path: 'products', component: ProductsView},\r\n  {path: 'products/:category', component: ProductsView},\r\n  {path: 'products/:category/:userId', component: ProductsView},\r\n  {path: 'products/:category/:userId/:searchText', component: ProductsView},\r\n  {path: 'product/:id', component: ProductView},\r\n  {path: 'cart', component: CartView},\r\n  {path: 'orders', component: OrderListView},\r\n  {path: 'statistics', component: StatisticsView},\r\n  {path: 'statistics/:id', component: StatisticsView},\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules })\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import {Component, OnDestroy, OnInit} from '@angular/core';\r\nimport {CategoryEnum, Product, UnitTypeEnum} from '../../models/product/product';\r\nimport {EnumToArrayPipe} from '../../pipes/enum-to-array.pipe';\r\nimport {Camera, CameraResultType, CameraSource} from '@capacitor/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {AngularFireAuth} from '@angular/fire/auth';\r\nimport {AngularFirestore, AngularFirestoreCollection} from '@angular/fire/firestore';\r\nimport {AngularFireStorage, AngularFireUploadTask} from '@angular/fire/storage';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Subscription} from 'rxjs';\r\nimport {ProductService} from '../../services/products/product.service';\r\n\r\n@Component({\r\n  selector: 'app-product-form',\r\n  templateUrl: './product-form.component.html',\r\n  styleUrls: ['./product-form.component.scss'],\r\n})\r\nexport class ProductFormComponent implements OnInit, OnDestroy {\r\n  public optionslist: string[];\r\n  public productForm: FormGroup;\r\n  public product: Product;\r\n  private productPicture: string;\r\n  private productsCollection: AngularFirestoreCollection;\r\n  private pathId: string;\r\n  private subParams: Subscription;\r\n  private categorylist: string[];\r\n\r\n\r\n  constructor(public enumToArrayPipe: EnumToArrayPipe, private formBuilder: FormBuilder,\r\n              private router: Router, private route: ActivatedRoute, public fireauth: AngularFireAuth,\r\n              public firestore: AngularFirestore, private storage: AngularFireStorage,\r\n              private productService: ProductService) {\r\n    this.optionslist = this.enumToArrayPipe.transform(UnitTypeEnum);\r\n    this.categorylist = this.enumToArrayPipe.transform(CategoryEnum);\r\n  }\r\n\r\n  fillAllValues(): void{\r\n    this.productForm.value.name = this.product.name;\r\n    this.productForm.value.description = this.product.description;\r\n    this.productForm.value.price = this.product.price;\r\n    this.productForm.value.unit = this.product.unit;\r\n    this.productForm.value.picture = this.product.picture;\r\n    this.productForm.value.stock = this.product.stock;\r\n    this.productForm.value.category = this.product.category;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subParams.unsubscribe();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.productsCollection = this.firestore.collection('products');\r\n    this.subParams = this.route.params.subscribe( params => {\r\n      if (params.id) {\r\n        this.pathId = params.id;\r\n        this.productsCollection.doc(this.pathId).valueChanges({idField: '_id'}).subscribe(productEntity => {\r\n          this.product = this.product.convertFromDTO(productEntity);\r\n          this.fillAllValues();\r\n        });\r\n      }\r\n    });\r\n    this.fillAllValues();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.optionslist = this.enumToArrayPipe.transform(UnitTypeEnum);\r\n    this.product = new Product();\r\n\r\n    this.productForm = this.formBuilder.group({\r\n      name: ['', [Validators.required]],\r\n      description: ['', [Validators.required]],\r\n      price: ['', [Validators.required]],\r\n      unit: ['', [Validators.required]],\r\n      picture: ['', [Validators.required]],\r\n      stock: ['', ],\r\n      category: ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  async takePicture() {\r\n    await Camera.getPhoto({\r\n      quality: 50,\r\n      allowEditing: true,\r\n      resultType: CameraResultType.Base64,\r\n      webUseInput: true,\r\n      source: CameraSource.Prompt\r\n    }).then(value => {\r\n      this.productForm.value.picture = 'Foto cargada';\r\n      this.productPicture = value.base64String;\r\n      this.product.picture = 'Foto cargada';\r\n    });\r\n  }\r\n\r\n  createProduct() {\r\n    if(this.productForm.valid) {\r\n      if (this.productForm.value.stock === '') {\r\n        this.productForm.value.stock = true;\r\n      }\r\n\r\n      this.product.name = this.productForm.value.name;\r\n      this.product.description = this.productForm.value.description;\r\n      this.product.price = this.productForm.value.price;\r\n      this.product.unit = this.productForm.value.unit;\r\n      this.product.picture = this.productForm.value.picture;\r\n      this.product.stock = this.productForm.value.stock;\r\n      this.product.category = this.productForm.value.category;\r\n\r\n      this.productsCollection.add(this.product.convertToDTO()).then(productCreated => {\r\n        this.fireauth.user.subscribe(value => {\r\n          this.product.ownerId = value.uid;\r\n          this.uploadPictureToProduct(this.productPicture, value.uid, productCreated.id).then(a => {\r\n            this.product.picture = this.productForm.value.picture;\r\n            this.productsCollection.doc(productCreated.id).update(this.product.convertToDTO()).then(b => {\r\n              this.changeView(productCreated.id);\r\n            });\r\n          });\r\n        });\r\n      });\r\n    } else {\r\n      this.productForm.markAllAsTouched();\r\n    }\r\n  }\r\n\r\n  updateProduct() {\r\n    this.product.name = this.productForm.value.name;\r\n    this.product.description = this.productForm.value.description;\r\n    this.product.price = this.productForm.value.price;\r\n    this.product.unit = this.productForm.value.unit;\r\n    this.product.category = this.productForm.value.category;\r\n    this.product.stock = this.productForm.value.stock;\r\n\r\n    if (this.product.picture !== this.productForm.value.picture) {\r\n      this.fireauth.user.subscribe(value => {\r\n        this.product.ownerId = value.uid;\r\n        this.uploadPictureToProduct(this.productPicture, value.uid, this.product.id).then(a => {\r\n          this.product.picture = this.productForm.value.picture;\r\n          this.productsCollection.doc(this.product.id).set(this.product.convertToDTO()).then(b => {\r\n            this.changeView(this.product.id);\r\n          });\r\n        });\r\n      });\r\n    } else {\r\n      // Modificamos el producto ya creado\r\n      this.productsCollection.doc(this.product.id).set(this.product.convertToDTO()).then(value =>\r\n        this.changeView(this.product.id)\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  uploadPictureToProduct(picture: any, userID: string, productID: string): AngularFireUploadTask {\r\n    const file = picture;\r\n    const filePath = '/products/' + userID + '/' + productID + '/image.png';\r\n    this.productForm.value.picture = filePath;\r\n    const ref = this.storage.ref(filePath);\r\n    return ref.putString(file, 'base64');\r\n  }\r\n\r\n  changeView(id: string): void {\r\n    this.router.navigate(['/product', id]);\r\n  }\r\n\r\n  deleteProduct() {\r\n    this.productService.deleteProduct(this.product).then(value => {\r\n      this.router.navigate(['/profile']);\r\n    });\r\n  }\r\n}\r\n","export default \"<ion-content>\\r\\n  <div padding>\\r\\n    <ion-segment [(ngModel)]=\\\"ordersShown\\\" (ngModelChange)=\\\"updateOrders()\\\" [scrollable]=\\\"true\\\">\\r\\n      <ion-segment-button value=\\\"Pendiente\\\">\\r\\n        Nuevos\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button value=\\\"Preparado\\\">\\r\\n        Preparado\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button value=\\\"Entregado\\\">\\r\\n        Entregado\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button value=\\\"Cancelado\\\">\\r\\n        Cancelado\\r\\n      </ion-segment-button>\\r\\n    </ion-segment>\\r\\n  </div>\\r\\n\\r\\n  <app-order-item *ngFor=\\\"let order of orderShown\\\" [order]=\\\"order\\\"></app-order-item>\\r\\n</ion-content>\\r\\n\\r\\n\";","import {ProductOrder} from '../cart/product-order';\r\nimport {classToPlain, plainToClass} from 'class-transformer';\r\n\r\nexport class Order {\r\n  private _id: string;\r\n  private _userId: string;\r\n  private _ownerId: string;\r\n  private _creationDate: Date;\r\n  private _status: OrderStatusEnum;\r\n  private _orderedItems: ProductOrder[];\r\n\r\n  constructor() {\r\n    this._userId = 'TODO';\r\n    this._creationDate = new Date();\r\n    this._status = OrderStatusEnum.Pendiente;\r\n    this._orderedItems = [];\r\n  }\r\n\r\n  get id(): string {\r\n    return this._id;\r\n  }\r\n\r\n  set id(value: string) {\r\n    this._id = value;\r\n  }\r\n\r\n  get userId(): string {\r\n    return this._userId;\r\n  }\r\n\r\n  set userId(value: string) {\r\n    this._userId = value;\r\n  }\r\n\r\n  get ownerId(): string {\r\n    return this._ownerId;\r\n  }\r\n\r\n  set ownerId(value: string) {\r\n    this._ownerId = value;\r\n  }\r\n\r\n  get creationDate(): Date {\r\n    return this._creationDate;\r\n  }\r\n\r\n  set creationDate(value: Date) {\r\n    this._creationDate = value;\r\n  }\r\n\r\n  get status(): OrderStatusEnum {\r\n    return this._status;\r\n  }\r\n\r\n  set status(value: OrderStatusEnum) {\r\n    this._status = value;\r\n  }\r\n\r\n  get orderedItems(): ProductOrder[] {\r\n    return this._orderedItems;\r\n  }\r\n\r\n  set orderedItems(value: ProductOrder[]) {\r\n    this._orderedItems = value;\r\n  }\r\n\r\n  convertToDTO() {\r\n    return classToPlain(this);\r\n  }\r\n\r\n  convertFromDTO(order) {\r\n    const productOrder = new ProductOrder();\r\n    const newOrder = plainToClass(Order, order);\r\n    newOrder.orderedItems.forEach((value, index) => {\r\n      newOrder.orderedItems[index] = productOrder.convertFromDTO(value);\r\n    });\r\n    return plainToClass(Order, newOrder);\r\n  }\r\n\r\n  getOrderPrice() {\r\n    let finalPrice = 0;\r\n    this.orderedItems.forEach(value => {\r\n      finalPrice += value.priceByEach * value.productAmount;\r\n    });\r\n    return finalPrice;\r\n  }\r\n}\r\n\r\nexport enum OrderStatusEnum {\r\n  Pendiente =  'Pendiente',\r\n  Preparado = 'Preparado',\r\n  Entregado = 'Entregado',\r\n  Cancelado = 'Cancelado'\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi52aWV3LnNhc3MifQ== */\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuY29tcG9uZW50LnNjc3MifQ== */\";","import {formatDate} from '@angular/common';\r\n\r\nexport enum UserRoles {\r\n  PRODUCER,\r\n  USER,\r\n  ADMIN\r\n}\r\n\r\n/*export class UserRoleTools {\r\n  getRouteFromRole(userRole: UserRoles): string{\r\n    switch (userRole) {\r\n      case UserRoles.FARMER:\r\n        return\r\n        break;\r\n      case UserRoles.USER:\r\n        break;\r\n      default:\r\n\r\n        break;\r\n    }\r\n  }\r\n}*/\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nimport 'reflect-metadata';\r\nimport {defineCustomElements} from '@ionic/pwa-elements/loader';\r\n\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n\r\ndefineCustomElements(window);\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}